## AI Shared Utilities

### authenticateRequest(request: Request): { userId: string } | { error: NextResponse }
**Purpose:** Authenticates incoming requests for AI routes by validating the access token from cookies and fetching user details.
**Location:** apps/web/src/app/api/ai/shared/auth.ts
**Dependencies:** [`decodeToken`](@pagespace/lib:decodeToken()), [`db`](@pagespace/db:db), [`users`](@pagespace/db:users), [`eq`](@pagespace/db:eq), [`parse`](cookie:parse()), [`NextResponse`](next/server:NextResponse).
**Last Updated:** 2025-07-20

### checkPagePermissions(userId: string, pageId: string, requiredPermission?: PermissionAction): { accessLevel: string } | { error: NextResponse }
**Purpose:** Checks page-specific permissions for AI routes that require page-level access control.
**Location:** apps/web/src/app/api/ai/shared/auth.ts
**Dependencies:** [`getUserAccessLevel`](@pagespace/lib:getUserAccessLevel()), [`permissionPrecedence`](@pagespace/lib:permissionPrecedence), [`PermissionAction`](@pagespace/lib:PermissionAction), [`NextResponse`](next/server:NextResponse).
**Last Updated:** 2025-07-20

### handlePageChatEdit(pageId: string, editedMessageCreatedAt: string): Promise<void>
**Purpose:** Marks messages as inactive from a specific timestamp onwards for page AI chats when a message is edited.
**Location:** apps/web/src/app/api/ai/shared/message-handlers.ts
**Dependencies:** [`db`](@pagespace/db:db), [`chatMessages`](@pagespace/db:chatMessages), [`and`](@pagespace/db:and), [`eq`](@pagespace/db:eq), [`gte`](@pagespace/db:gte).
**Last Updated:** 2025-07-20

### handlePageChatRegenerate(pageId: string, regeneratedMessageCreatedAt: string): Promise<void>
**Purpose:** Marks messages as inactive from a specific timestamp onwards for page AI chats when a message is regenerated.
**Location:** apps/web/src/app/api/ai/shared/message-handlers.ts
**Dependencies:** [`db`](@pagespace/db:db), [`chatMessages`](@pagespace/db:chatMessages), [`and`](@pagespace/db:and), [`eq`](@pagespace/db:eq), [`gte`](@pagespace/db:gte).
**Last Updated:** 2025-07-20

### handleAssistantEdit(conversationId: string, editedMessageCreatedAt: string): Promise<void>
**Purpose:** Marks messages as inactive from a specific timestamp onwards for assistant AI conversations when a message is edited.
**Location:** apps/web/src/app/api/ai/shared/message-handlers.ts
**Dependencies:** [`db`](@pagespace/db:db), [`assistantMessages`](@pagespace/db:assistantMessages), [`and`](@pagespace/db:and), [`eq`](@pagespace/db:eq), [`gte`](@pagespace/db:gte).
**Last Updated:** 2025-07-20

### handleAssistantRegenerate(conversationId: string, regeneratedMessageCreatedAt: string): Promise<void>
**Purpose:** Marks messages as inactive from a specific timestamp onwards for assistant AI conversations when a message is regenerated.
**Location:** apps/web/src/app/api/ai/shared/message-handlers.ts
**Dependencies:** [`db`](@pagespace/db:db), [`assistantMessages`](@pagespace/db:assistantMessages), [`and`](@pagespace/db:and), [`eq`](@pagespace/db:eq), [`gte`](@pagespace/db:gte).
**Last Updated:** 2025-07-20

### savePageChatMessages(params: { pageId: string; userId: string; userContent: string; assistantContent: string; toolCalls?: unknown; toolResults?: unknown; }): Promise<void>
**Purpose:** Saves page AI chat messages atomically, ensuring both user and assistant messages are saved together within a transaction.
**Location:** apps/web/src/app/api/ai/shared/message-handlers.ts
**Dependencies:** [`db`](@pagespace/db:db), [`chatMessages`](@pagespace/db:chatMessages), [`createId`](@paralleldrive/cuid2:createId()).
**Last Updated:** 2025-07-20

### saveAssistantMessages(params: { conversationId: string; userContent: string; assistantContent: string; toolCalls?: unknown; toolResults?: unknown; }): Promise<void>
**Purpose:** Saves assistant AI messages atomically, ensuring both user and assistant messages are saved together within a transaction.
**Location:** apps/web/src/app/api/ai/shared/message-handlers.ts
**Dependencies:** [`db`](@pagespace/db:db), [`assistantMessages`](@pagespace/db:assistantMessages), [`createId`](@paralleldrive/cuid2:createId()).
**Last Updated:** 2025-07-20

### resolveModel(userId: string, model: string): Promise<{ provider: string; apiKey?: string; model: string }>
**Purpose:** Resolves the AI model and its corresponding API key for a given user and model string, checking both user settings and environment variables.
**Location:** apps/web/src/app/api/ai/shared/models.ts
**Dependencies:** [`db`](@pagespace/db:db), [`userAiSettings`](@pagespace/db:userAiSettings), [`eq`](@pagespace/db:eq), [`and`](@pagespace/db:and), [`decrypt`](@pagespace/lib:decrypt()).
**Last Updated:** 2025-07-20

### createModelInstance(model: string, apiKey?: string): any
**Purpose:** Creates an AI model instance from various providers (Google, Ollama, OpenAI, Anthropic, OpenRouter) based on the model string.
**Location:** apps/web/src/app/api/ai/shared/models.ts
**Dependencies:** [`createOllama`](ollama-ai-provider:createOllama()), [`createGoogleGenerativeAI`](@ai-sdk/google:createGoogleGenerativeAI()), [`createOpenAI`](@ai-sdk/openai:createOpenAI()), [`createAnthropic`](@ai-sdk/anthropic:createAnthropic()), [`createOpenRouter`](@openrouter/ai-sdk-provider:createOpenRouter()).
**Last Updated:** 2025-07-20

### handleModelError(error: unknown): NextResponse
**Purpose:** Handles AI model creation errors consistently, returning appropriate HTTP responses based on the error type.
**Location:** apps/web/src/app/api/ai/shared/models.ts
**Dependencies:** [`NextResponse`](next/server:NextResponse).
**Last Updated:** 2025-07-20

### buildSystemPrompt(context: { pageTitle?: string; pageContent?: string; mentionedPagesContent?: string; isAssistant?: boolean; }): string
**Purpose:** Builds a system prompt for AI models based on the provided context, adapting for assistant or page-specific AI.
**Location:** apps/web/src/app/api/ai/shared/streaming.ts
**Dependencies:** None explicit, uses provided context.
**Last Updated:** 2025-07-20

### commonTools: { getWeather: Tool }
**Purpose:** Defines common tools available for AI models, such as a simulated weather tool.
**Location:** apps/web/src/app/api/ai/shared/streaming.ts
**Dependencies:** [`tool`](ai:tool()), [`z`](zod:z).
**Last Updated:** 2025-07-20

### createStreamConfig(params: { model: LanguageModelV1; systemPrompt: string; messages: CoreMessage[]; temperature?: number; tools?: ToolSet; onFinish?: (result: { text: string; toolCalls: unknown; toolResults: unknown }) => Promise<void>; }): Promise<ReadableStream<Uint8Array>>
**Purpose:** Creates a streaming configuration for AI text generation, including model, system prompt, messages, and optional tools and finish handler.
**Location:** apps/web/src/app/api/ai/shared/streaming.ts
**Dependencies:** [`streamText`](ai:streamText()), [`CoreMessage`](ai:CoreMessage), [`tool`](ai:tool()), [`LanguageModelV1`](ai:LanguageModelV1), [`ToolSet`](ai:ToolSet), [`commonTools`](apps/web/src/app/api/ai/shared/streaming.ts:commonTools).
**Last Updated:** 2025-07-20

## Database Migrations

### main(): Promise<void>
**Purpose:** Executes database migrations using Drizzle ORM. It loads environment variables, connects to the database, runs pending migrations from the 'drizzle' folder, and then exits the process.
**Location:** packages/db/src/migrate.ts
**Dependencies:** [`migrate`](drizzle-orm/node-postgres/migrator:migrate()), [`db`](packages/db:db), [`path`](path), [`config`](dotenv:config()).
**Last Updated:** 2025-07-20

## Authentication Utilities

### decodeToken(token: string): Promise<UserPayload | null>
**Purpose:** Decodes and verifies a JWT token with issuer/audience validation, returning the payload if valid.
**Location:** packages/lib/src/auth-utils.ts
**Dependencies:** [`jose`](jose).
**Last Updated:** 2025-07-28

### generateAccessToken(userId: string, tokenVersion: number): Promise<string>
**Purpose:** Generates a new access token for a user with a 15-minute expiration using HS256 algorithm.
**Location:** packages/lib/src/auth-utils.ts
**Dependencies:** [`jose`](jose).
**Last Updated:** 2025-07-28

### generateRefreshToken(userId: string, tokenVersion: number): Promise<string>
**Purpose:** Generates a new refresh token for a user with a 7-day expiration using HS256 algorithm.
**Location:** packages/lib/src/auth-utils.ts
**Dependencies:** [`jose`](jose).
**Last Updated:** 2025-07-28

## CSRF Protection Utilities

### generateCSRFToken(sessionId: string): string
**Purpose:** Generates a cryptographically secure CSRF token with timestamp and HMAC signature for the given session ID.
**Location:** packages/lib/src/csrf-utils.ts
**Dependencies:** [`randomBytes`](crypto:randomBytes()), [`createHmac`](crypto:createHmac()).
**Last Updated:** 2025-07-28

### validateCSRFToken(token: string, sessionId: string, maxAge?: number): boolean
**Purpose:** Validates a CSRF token against the session ID, checking signature and expiration (default 1 hour).
**Location:** packages/lib/src/csrf-utils.ts
**Dependencies:** [`createHmac`](crypto:createHmac()), [`timingSafeEqual`](crypto:timingSafeEqual()).
**Last Updated:** 2025-07-28

### getSessionIdFromJWT(payload: UserPayload): string
**Purpose:** Extracts a deterministic session ID from JWT payload for CSRF validation.
**Location:** packages/lib/src/csrf-utils.ts
**Dependencies:** [`createHmac`](crypto:createHmac()).
**Last Updated:** 2025-07-28

## Rate Limiting Utilities

### checkRateLimit(identifier: string, config: RateLimitConfig): RateLimitResult
**Purpose:** Enforces rate limiting for authentication endpoints with progressive delays and configurable windows.
**Location:** packages/lib/src/rate-limit-utils.ts
**Dependencies:** None.
**Last Updated:** 2025-07-28

### resetRateLimit(identifier: string): void
**Purpose:** Resets rate limit attempts for a given identifier (e.g., after successful authentication).
**Location:** packages/lib/src/rate-limit-utils.ts
**Dependencies:** None.
**Last Updated:** 2025-07-28

### getRateLimitStatus(identifier: string, config: RateLimitConfig): RateLimitStatus
**Purpose:** Gets current rate limit status for an identifier without incrementing the attempt count.
**Location:** packages/lib/src/rate-limit-utils.ts
**Dependencies:** None.
**Last Updated:** 2025-07-28

## Encryption Utilities

### encrypt(text: string): Promise<string>
**Purpose:** Encrypts a plaintext string using AES-256-GCM, returning the encrypted string in "iv:authtag:ciphertext" format.
**Location:** packages/lib/src/encryption-utils.ts
**Dependencies:** [`scrypt`](crypto:scrypt()), [`randomBytes`](crypto:randomBytes()), [`createCipheriv`](crypto:createCipheriv()), [`promisify`](util:promisify()).
**Last Updated:** 2025-07-20

### decrypt(encryptedText: string): Promise<string>
**Purpose:** Decrypts an encrypted string (formatted as "iv:authtag:ciphertext") using AES-256-GCM.
**Location:** packages/lib/src/encryption-utils.ts
**Dependencies:** [`scrypt`](crypto:scrypt()), [`createDecipheriv`](crypto:createDecipheriv()), [`promisify`](util:promisify()).
**Last Updated:** 2025-07-20

## Page Content Parser

### convertContentToPlainText(content: ContentFormat): string
**Purpose:** Converts various content formats (Richline arrays, plain strings) to plain text for AI consumption.
**Location:** packages/lib/src/page-content-parser.ts
**Dependencies:** None explicit.
**Last Updated:** 2025-07-20

### getPageContentForAI(page: Page & { channelMessages?: any[], children?: any[] }): string
**Purpose:** Formats the content of a given page for AI consumption, handling different page types (DOCUMENT, CHANNEL, FOLDER).
**Location:** packages/lib/src/page-content-parser.ts
**Dependencies:** [`convertContentToPlainText`](packages/lib/src/page-content-parser.ts:convertContentToPlainText()), [`Page`](packages/lib/src/types.ts:Page).
**Last Updated:** 2025-07-20

## Permissions

### getUserGroups(userId: string, driveId?: string): Promise<string[]>
**Purpose:** Fetches all group IDs for a given user, optionally scoped to a specific drive.
**Location:** packages/lib/src/permissions.ts
**Dependencies:** [`db`](@pagespace/db:db), [`groupMemberships`](@pagespace/db:groupMemberships), [`groups`](@pagespace/db:groups), [`eq`](@pagespace/db:eq), [`and`](@pagespace/db:and).
**Last Updated:** 2025-07-20

### getPageAncestors(pageId: string): Promise<string[]>
**Purpose:** Fetches all ancestor page IDs for a given page (including itself) using a recursive CTE.
**Location:** packages/lib/src/permissions.ts
**Dependencies:** [`db`](@pagespace/db:db), [`sql`](@pagespace/db:sql).
**Last Updated:** 2025-07-20

### findPermissions(pageIds: string[], subjectIds: string[]): Promise<{ action: PermissionAction }[]>
**Purpose:** Finds all permissions for a given set of pages and subjects (users/groups).
**Location:** packages/lib/src/permissions.ts
**Dependencies:** [`db`](@pagespace/db:db), [`permissions`](@pagespace/db:permissions), [`and`](@pagespace/db:and), [`inArray`](@pagespace/db:inArray()), [`PermissionAction`](packages/lib/src/enums.ts:PermissionAction).
**Last Updated:** 2025-07-20

### resolveHighestPermission(permissions: { action: PermissionAction }[]): PermissionAction | null
**Purpose:** Resolves the highest permission level from a list of permissions based on a predefined precedence (DELETE > SHARE > EDIT > VIEW).
**Location:** packages/lib/src/permissions.ts
**Dependencies:** [`permissionPrecedence`](packages/lib/src/permissions.ts:permissionPrecedence), [`PermissionAction`](packages/lib/src/enums.ts:PermissionAction).
**Last Updated:** 2025-07-20

### getUserAccessLevel(userId: string, pageId: string): Promise<PermissionAction | null>
**Purpose:** Determines a user's access level for a given page by checking drive ownership, direct permissions, and inherited permissions.
**Location:** packages/lib/src/permissions.ts
**Dependencies:** [`db`](@pagespace/db:db), [`pages`](@pagespace/db:pages), [`drives`](@pagespace/db:drives), [`eq`](@pagespace/db:eq), [`getUserGroups`](packages/lib/src/permissions.ts:getUserGroups()), [`getPageAncestors`](packages/lib/src/permissions.ts:getPageAncestors()), [`findPermissions`](packages/lib/src/permissions.ts:findPermissions()), [`resolveHighestPermission`](packages/lib/src/permissions.ts:resolveHighestPermission()), [`PermissionAction`](packages/lib/src/enums.ts:PermissionAction).
**Last Updated:** 2025-07-20

### getUserAccessiblePages(userId: string, pageIds: string[]): Promise<Map<string, Page>>
**Purpose:** Efficiently determines a user's access level for multiple pages, returning a map of accessible pages and their highest permission.
**Location:** packages/lib/src/permissions.ts
**Dependencies:** [`db`](@pagespace/db:db), [`pages`](@pagespace/db:pages), [`drives`](@pagespace/db:drives), [`eq`](@pagespace/db:eq), [`inArray`](@pagespace/db:inArray()), [`getUserGroups`](packages/lib/src/permissions.ts:getUserGroups()), [`getPageAncestors`](packages/lib/src/permissions.ts:getPageAncestors()), [`findPermissions`](packages/lib/src/permissions.ts:findPermissions()), [`resolveHighestPermission`](packages/lib/src/permissions.ts:resolveHighestPermission()), [`PageType`](packages/lib/src/enums.ts:PageType), [`PermissionAction`](packages/lib/src/enums.ts:PermissionAction), [`Page`](packages/lib/src/types.ts:Page).
**Last Updated:** 2025-07-20

## Tree Utilities

### buildTree<T extends { id: string; parentId: string | null }>(nodes: T[]): (T & { children: T[] })[]
**Purpose:** Builds a hierarchical tree structure from a flat list of nodes with parent-child relationships.
**Location:** packages/lib/src/tree-utils.ts
**Dependencies:** None explicit.
**Last Updated:** 2025-07-20

## General Utilities

### slugify(text: string): string
**Purpose:** Converts a given text string into a URL-friendly slug.
**Location:** packages/lib/src/utils.ts
**Dependencies:** None explicit.
**Last Updated:** 2025-07-20

## Richline Editor Core (WASM Bridge)

### initializeWasm(): Promise<void>
**Purpose:** Initializes the WebAssembly module for the Richline Editor core. Ensures the WASM module is loaded only once.
**Location:** packages/richline-editor/src/rust-bridge.ts
**Dependencies:** [`init`](../pkg/rust_core.js:init()).
**Last Updated:** 2025-07-20

### RichlineCore.constructor(initialLines?: LinesInput)
**Purpose:** Initializes a new RichlineCore instance, setting its internal document state based on provided initial lines.
**Location:** packages/richline-editor/src/rust-bridge.ts
**Dependencies:** [`Document`](../pkg/rust_core.js:Document), [`normalizeLines`](packages/richline-editor/src/types.ts:normalizeLines()).
**Last Updated:** 2025-07-20

### RichlineCore.getLines(): LinesInput
**Purpose:** Retrieves the current lines from the RichlineCore's internal document.
**Location:** packages/richline-editor/src/rust-bridge.ts
**Dependencies:** None explicit.
**Last Updated:** 2025-07-20

### RichlineCore.replaceLines(startIndex: number, endIndex: number, newLines: LinesInput): void
**Purpose:** Replaces a range of lines in the RichlineCore's internal document with new lines.
**Location:** packages/richline-editor/src/rust-bridge.ts
**Dependencies:** [`normalizeLines`](packages/richline-editor/src/types.ts:normalizeLines()).
**Last Updated:** 2025-07-20

### RichlineCore.wrapText(text: string, maxChars: number): LinesInput
**Purpose:** Statically wraps a given text string into multiple lines based on a maximum character limit, using the WASM core's text wrapping logic.
**Location:** packages/richline-editor/src/rust-bridge.ts
**Dependencies:** [`wrap_text`](../pkg/rust_core.js:wrap_text()).
**Last Updated:** 2025-07-20

## Richline Editor React Component

### LineComponent({ line, index, disabled, onLineChange, onKeyDown, setRef }): React.MemoExoticComponent<({ line, index, disabled, onLineChange: (index: number, newText: string, cursorPosition?: number) => void; onKeyDown: (e: React.KeyboardEvent<HTMLDivElement>, index: number) => void; setRef: (el: HTMLDivElement | null) => void; }) => JSX.Element>
**Purpose:** A memoized React component representing a single editable line within the Richline Editor. Handles input and keydown events for individual lines.
**Location:** packages/richline-editor/src/RichlineEditor.tsx
**Dependencies:** [`memo`](react:memo()), [`useEffect`](react:useEffect()), [`useRef`](react:useRef()).
**Last Updated:** 2025-07-20

### RichlineEditor(props: RichlineEditorProps, ref: React.Ref<RichlineEditorRef>): JSX.Element
**Purpose:** The main Richline Editor React component, providing a rich text editing experience with line wrapping, line numbers, and an imperative handle for external control. Supports both `lines` and `value` APIs.
**Location:** packages/richline-editor/src/RichlineEditor.tsx
**Dependencies:** [`forwardRef`](react:forwardRef()), [`useEffect`](react:useEffect()), [`useImperativeHandle`](react:useImperativeHandle()), [`useRef`](react:useRef()), [`useState`](react:useState()), [`useMemo`](react:useMemo()), [`useCallback`](react:useCallback()), [`RichlineCore`](packages/richline-editor/src/rust-bridge.ts:RichlineCore), [`normalizeLines`](packages/richline-editor/src/types.ts:normalizeLines()), [`linesToStrings`](packages/richline-editor/src/types.ts:linesToStrings()), [`isLineArray`](packages/richline-editor/src/types.ts:isLineArray()), [`LineComponent`](packages/richline-editor/src/RichlineEditor.tsx:LineComponent).
**Last Updated:** 2025-07-20

#### RichlineEditorRef Methods
### RichlineEditorRef.replaceText(lineIndex: number, start: number, end: number, text: string): void
**Purpose:** Imperative handle method to replace a specific range of text within a line.
**Location:** packages/richline-editor/src/RichlineEditor.tsx
**Dependencies:** [`RichlineCore`](packages/richline-editor/src/rust-bridge.ts:RichlineCore), [`normalizeLines`](packages/richline-editor/src/types.ts:normalizeLines()), [`callOnChange`](packages/richline-editor/src/RichlineEditor.tsx:callOnChange()), [`setCurrentLines`](packages/richline-editor/src/RichlineEditor.tsx:setCurrentLines()), [`setNextFocus`](packages/richline-editor/src/RichlineEditor.tsx:setNextFocus()).
**Last Updated:** 2025-07-20

### RichlineEditorRef.replaceLines(startIndex: number, endIndex: number, newLines: LinesInput): void
**Purpose:** Imperative handle method to replace a range of lines in the editor.
**Location:** packages/richline-editor/src/RichlineEditor.tsx
**Dependencies:** [`RichlineCore`](packages/richline-editor/src/rust-bridge.ts:RichlineCore), [`callOnChange`](packages/richline-editor/src/RichlineEditor.tsx:callOnChange()), [`setCurrentLines`](packages/richline-editor/src/RichlineEditor.tsx:setCurrentLines()).
**Last Updated:** 2025-07-20

### RichlineEditorRef.highlightLines(indices: number[]): void
**Purpose:** Imperative handle method to highlight specific lines in the editor (TODO: Implementation pending).
**Location:** packages/richline-editor/src/RichlineEditor.tsx
**Dependencies:** None explicit.
**Last Updated:** 2025-07-20

### RichlineEditorRef.scrollToLine(index: number): void
**Purpose:** Imperative handle method to scroll the editor view to a specific line.
**Location:** packages/richline-editor/src/RichlineEditor.tsx
**Dependencies:** [`lineRefs`](packages/richline-editor/src/RichlineEditor.tsx:lineRefs).
**Last Updated:** 2025-07-20

### RichlineEditorRef.focus(): void
**Purpose:** Imperative handle method to set focus on the editor.
**Location:** packages/richline-editor/src/RichlineEditor.tsx
**Dependencies:** [`editorRef`](packages/richline-editor/src/RichlineEditor.tsx:editorRef).
**Last Updated:** 2025-07-20

### RichlineEditorRef.blur(): void
**Purpose:** Imperative handle method to remove focus from the editor.
**Location:** packages/richline-editor/src/RichlineEditor.tsx
**Dependencies:** [`editorRef`](packages/richline-editor/src/RichlineEditor.tsx:editorRef).
**Last Updated:** 2025-07-20

### RichlineEditorRef.getLines(): LinesInput
**Purpose:** Imperative handle method to get the current lines from the editor.
**Location:** packages/richline-editor/src/RichlineEditor.tsx
**Dependencies:** [`currentLines`](packages/richline-editor/src/RichlineEditor.tsx:currentLines).
**Last Updated:** 2025-07-20

### RichlineEditorRef.setLines(lines: LinesInput): void
**Purpose:** Imperative handle method to set the editor's content using a `LinesInput` array.
**Location:** packages/richline-editor/src/RichlineEditor.tsx
**Dependencies:** [`RichlineCore`](packages/richline-editor/src/rust-bridge.ts:RichlineCore), [`normalizeLines`](packages/richline-editor/src/types.ts:normalizeLines()), [`callOnChange`](packages/richline-editor/src/RichlineEditor.tsx:callOnChange()), [`setCurrentLines`](packages/richline-editor/src/RichlineEditor.tsx:setCurrentLines()).
**Last Updated:** 2025-07-20

### RichlineEditorRef.getValue(): string
**Purpose:** Imperative handle method to get the editor's content as a single string (for textarea-like API).
**Location:** packages/richline-editor/src/RichlineEditor.tsx
**Dependencies:** [`linesToValue`](packages/richline-editor/src/RichlineEditor.tsx:linesToValue()), [`currentLines`](packages/richline-editor/src/RichlineEditor.tsx:currentLines).
**Last Updated:** 2025-07-20

### RichlineEditorRef.setValue(newValue: string): void
**Purpose:** Imperative handle method to set the editor's content using a single string (for textarea-like API).
**Location:** packages/richline-editor/src/RichlineEditor.tsx
**Dependencies:** [`valueToLines`](packages/richline-editor/src/RichlineEditor.tsx:valueToLines()), [`RichlineCore`](packages/richline-editor/src/rust-bridge.ts:RichlineCore), [`normalizeLines`](packages/richline-editor/src/types.ts:normalizeLines()), [`callOnChange`](packages/richline-editor/src/RichlineEditor.tsx:callOnChange()), [`setCurrentLines`](packages/richline-editor/src/RichlineEditor.tsx:setCurrentLines()).
**Last Updated:** 2025-07-20

### RichlineEditorRef.getSelectionStart(): number
**Purpose:** Imperative handle method to get the current cursor position (selection start) as an absolute character offset from the beginning of the editor content.
**Location:** packages/richline-editor/src/RichlineEditor.tsx
**Dependencies:** `window.getSelection()`, [`linesToStrings`](packages/richline-editor/src/types.ts:linesToStrings()), [`currentLines`](packages/richline-editor/src/RichlineEditor.tsx:currentLines).
**Last Updated:** 2025-07-20

### RichlineEditorRef.setSelectionStart(position: number): void
**Purpose:** Imperative handle method to set the cursor position (selection start) to an absolute character offset within the editor content.
**Location:** packages/richline-editor/src/RichlineEditor.tsx
**Dependencies:** [`linesToStrings`](packages/richline-editor/src/types.ts:linesToStrings()), [`currentLines`](packages/richline-editor/src/RichlineEditor.tsx:currentLines), [`setNextFocus`](packages/richline-editor/src/RichlineEditor.tsx:setNextFocus()).
**Last Updated:** 2025-07-20

### RichlineEditorRef.getDOMElement(): HTMLElement | null
**Purpose:** Imperative handle method to get the root DOM element of the editor.
**Location:** packages/richline-editor/src/RichlineEditor.tsx
**Dependencies:** [`editorRef`](packages/richline-editor/src/RichlineEditor.tsx:editorRef).
**Last Updated:** 2025-07-20

### handleLineChange(index: number, newText: string, cursorPosition?: number): void
**Purpose:** Callback function for when a single line's content changes, handling text wrapping and updating the core.
**Location:** packages/richline-editor/src/RichlineEditor.tsx
**Dependencies:** [`RichlineCore.wrapText`](packages/richline-editor/src/rust-bridge.ts:RichlineCore.wrapText()), [`core.replaceLines`](packages/richline-editor/src/rust-bridge.ts:RichlineCore.replaceLines()), [`linesToStrings`](packages/richline-editor/src/types.ts:linesToStrings()), [`setCurrentLines`](packages/richline-editor/src/RichlineEditor.tsx:setCurrentLines()), [`callOnChange`](packages/richline-editor/src/RichlineEditor.tsx:callOnChange()), [`setNextFocus`](packages/richline-editor/src/RichlineEditor.tsx:setNextFocus()).
**Last Updated:** 2025-07-20

### handleKeyDown(e: React.KeyboardEvent<HTMLDivElement>, index: number): void
**Purpose:** Callback function for keydown events on lines, handling Enter (new line), Backspace (merge lines), and ArrowUp/Down (navigation).
**Location:** packages/richline-editor/src/RichlineEditor.tsx
**Dependencies:** `window.getSelection()`, [`RichlineCore`](packages/richline-editor/src/rust-bridge.ts:RichlineCore), [`normalizeLines`](packages/richline-editor/src/types.ts:normalizeLines()), [`linesToStrings`](packages/richline-editor/src/types.ts:linesToStrings()), [`setCurrentLines`](packages/richline-editor/src/RichlineEditor.tsx:setCurrentLines()), [`callOnChange`](packages/richline-editor/src/RichlineEditor.tsx:callOnChange()), [`setNextFocus`](packages/richline-editor/src/RichlineEditor.tsx:setNextFocus()), [`lineRefs`](packages/richline-editor/src/RichlineEditor.tsx:lineRefs).
**Last Updated:** 2025-07-20

### App(): JSX.Element
**Purpose:** The main application component for the Richline Editor test page, demonstrating its usage and features.
**Location:** packages/richline-editor/src/main.tsx
**Dependencies:** [`useState`](react:useState()), [`useRef`](react:useRef()), [`useEffect`](react:useEffect()), [`useCallback`](react:useCallback()), [`RichlineEditor`](packages/richline-editor/src/RichlineEditor.tsx:RichlineEditor), [`linesToStrings`](packages/richline-editor/src/types.ts:linesToStrings()), [`initializeWasm`](packages/richline-editor/src/rust-bridge.ts:initializeWasm()).
**Last Updated:** 2025-07-20

### handleChange(newLines: LinesInput): void
**Purpose:** Callback function for the `RichlineEditor`'s `onChange` prop, updating the `lines` state in the `App` component.
**Location:** packages/richline-editor/src/main.tsx
**Dependencies:** [`setLines`](react:useState()), [`linesToStrings`](packages/richline-editor/src/types.ts:linesToStrings()).
**Last Updated:** 2025-07-20

### handleReplace(): void
**Purpose:** Handler for the "Replace First Line" button, demonstrating the `replaceLines` imperative method of the `RichlineEditor`.
**Location:** packages/richline-editor/src/main.tsx
**Dependencies:** [`editorRef`](react:useRef()).
**Last Updated:** 2025-07-20

## Frontend

### App & Pages
### RootLayout({ children }: { children: React.ReactNode }): JSX.Element
**Purpose:** The root layout component for the Next.js application, providing the basic HTML structure and theme provider.
**Location:** apps/web/src/app/layout.tsx
**Dependencies:** [`ThemeProvider`](@/components/providers/ThemeProvider).
**Last Updated:** 2025-07-20

### Home(): JSX.Element
**Purpose:** The main home page component, displaying a landing page with links to sign in/up and a description of the application.
**Location:** apps/web/src/app/page.tsx
**Dependencies:** [`Link`](next/link).
**Last Updated:** 2025-07-20

### MountainIcon(props: JSX.IntrinsicAttributes & SVGProps<SVGSVGElement>): JSX.Element
**Purpose:** A simple SVG icon component representing a mountain.
**Location:** apps/web/src/app/page.tsx
**Dependencies:** None explicit.
**Last Updated:** 2025-07-20

### Components
#### AI Components
### ApiKeyInput({ value, onChange, isSet }: ApiKeyInputProps): JSX.Element
**Purpose:** A reusable input component for API keys, with a toggle to show/hide the key.
**Location:** apps/web/src/components/ai/ApiKeyInput.tsx
**Dependencies:** [`Input`](@/components/ui/input), [`Button`](@/components/ui/button).
**Last Updated:** 2025-07-20

### ModelSelector({ selectedProvider, selectedModel, onModelChange }: ModelSelectorProps): JSX.Element
**Purpose:** A dropdown selector for choosing AI models based on the selected provider.
**Location:** apps/web/src/components/ai/ModelSelector.tsx
**Dependencies:** [`Select`](@/components/ui/select), [`SelectContent`](@/components/ui/select), [`SelectItem`](@/components/ui/select), [`SelectTrigger`](@/components/ui/select), [`SelectValue`](@/components/ui/select).
**Last Updated:** 2025-07-20

### ProviderCard({ provider, isApiKeySet, onUpdate }: ProviderCardProps): JSX.Element
**Purpose:** A card component to display and manage settings for a single AI provider, including API key input and save/remove actions.
**Location:** apps/web/src/components/ai/ProviderCard.tsx
**Dependencies:** [`Card`](@/components/ui/card), [`CardContent`](@/components/ui/card), [`CardFooter`](@/components/ui/card), [`CardHeader`](@/components/ui/card), [`CardTitle`](@/components/ui/card), [`Input`](@/components/ui/input), [`Button`](@/components/ui/button), [`useAiSettings`](@/hooks/useAiSettings).
**Last Updated:** 2025-07-20

### ProviderSelector({ selectedProvider, onProviderChange }: ProviderSelectorProps): JSX.Element
**Purpose:** A dropdown selector for choosing AI providers.
**Location:** apps/web/src/components/ai/ProviderSelector.tsx
**Dependencies:** [`Select`](@/components/ui/select), [`SelectContent`](@/components/ui/select), [`SelectItem`](@/components/ui/select), [`SelectTrigger`](@/components/ui/select), [`SelectValue`](@/components/ui/select).
**Last Updated:** 2025-07-20

### ProviderSettings({ initialSettings }: ProviderSettingsProps): JSX.Element
**Purpose:** Displays and manages AI provider settings in a table format, allowing users to configure API keys for various providers.
**Location:** apps/web/src/components/ai/ProviderSettings.tsx
**Dependencies:** [`Table`](@/components/ui/table), [`TableBody`](@/components/ui/table), [`TableCell`](@/components/ui/table), [`TableHead`](@/components/ui/table), [`TableHeader`](@/components/ui/table), [`TableRow`](@/components/ui/table), [`Input`](@/components/ui/input), [`Button`](@/components/ui/button), [`useAiSettings`](@/hooks/useAiSettings).
**Last Updated:** 2025-07-20

#### Dialogs
### ConfirmDialog({ isOpen, onClose, onConfirm, title, description, confirmText, cancelText }: ConfirmDialogProps): JSX.Element
**Purpose:** A generic confirmation dialog component.
**Location:** apps/web/src/components/dialogs/ConfirmDialog.tsx
**Dependencies:** [`AlertDialog`](@/components/ui/alert-dialog), [`AlertDialogAction`](@/components/ui/alert-dialog), [`AlertDialogCancel`](@/components/ui/alert-dialog), [`AlertDialogContent`](@/components/ui/alert-dialog), [`AlertDialogDescription`](@/components/ui/alert-dialog), [`AlertDialogFooter`](@/components/ui/alert-dialog), [`AlertDialogHeader`](@/components/ui/alert-dialog), [`AlertDialogTitle`](@/components/ui/alert-dialog).
**Last Updated:** 2025-07-20

### DeletePageDialog({ isOpen, onClose, onConfirm, pageTitle }: DeletePageDialogProps): JSX.Element
**Purpose:** A confirmation dialog specifically for deleting a page.
**Location:** apps/web/src/components/dialogs/DeletePageDialog.tsx
**Dependencies:** [`AlertDialog`](@/components/ui/alert-dialog), [`AlertDialogAction`](@/components/ui/alert-dialog), [`AlertDialogCancel`](@/components/ui/alert-dialog), [`AlertDialogContent`](@/components/ui/alert-dialog), [`AlertDialogDescription`](@/components/ui/alert-dialog), [`AlertDialogFooter`](@/components/ui/alert-dialog), [`AlertDialogHeader`](@/components/ui/alert-dialog), [`AlertDialogTitle`](@/components/ui/alert-dialog).
**Last Updated:** 2025-07-20

### RenameDialog({ isOpen, onClose, onRename, initialName, title, description }: RenameDialogProps): JSX.Element
**Purpose:** A dialog for renaming an item, with an input field and confirm/cancel buttons.
**Location:** apps/web/src/components/dialogs/RenameDialog.tsx
**Dependencies:** [`Dialog`](@/components/ui/dialog), [`DialogContent`](@/components/ui/dialog), [`DialogDescription`](@/components/ui/dialog), [`DialogFooter`](@/components/ui/dialog), [`DialogHeader`](@/components/ui/dialog), [`DialogTitle`](@/components/ui/dialog), [`Input`](@/components/ui/input), [`Button`](@/components/ui/button).
**Last Updated:** 2025-07-20

#### Layout
##### Left Sidebar
### CreateDriveDialog({ isOpen, setIsOpen }: CreateDriveDialogProps): JSX.Element
**Purpose:** A dialog for creating a new drive.
**Location:** apps/web/src/components/layout/left-sidebar/CreateDriveDialog.tsx
**Dependencies:** [`Dialog`](@/components/ui/dialog), [`DialogContent`](@/components/ui/dialog), [`DialogDescription`](@/components/ui/dialog), [`DialogHeader`](@/components/ui/dialog), [`DialogTitle`](@/components/ui/dialog), [`Input`](@/components/ui/input), [`Button`](@/components/ui/button).
**Last Updated:** 2025-07-20

### CreatePageDialog({ parentId, isOpen, setIsOpen, onPageCreated, driveSlug }: CreatePageDialogProps): JSX.Element
**Purpose:** A dialog for creating a new page within a drive or folder.
**Location:** apps/web/src/components/layout/left-sidebar/CreatePageDialog.tsx
**Dependencies:** [`Dialog`](@/components/ui/dialog), [`DialogContent`](@/components/ui/dialog), [`DialogDescription`](@/components/ui/dialog), [`DialogFooter`](@/components/ui/dialog), [`DialogHeader`](@/components/ui/dialog), [`DialogTitle`](@/components/ui/dialog), [`Input`](@/components/ui/input), [`Button`](@/components/ui/button), [`Select`](@/components/ui/select), [`SelectContent`](@/components/ui/select), [`SelectItem`](@/components/ui/select), [`SelectTrigger`](@/components/ui/select), [`SelectValue`](@/components/ui/select).
**Last Updated:** 2025-07-20

### DriveListItem({ drive, isActive }: { drive: Drive; isActive: boolean }): JSX.Element
**Purpose:** Renders a single drive item in the drive list, with a link to the drive's dashboard.
**Location:** apps/web/src/components/layout/left-sidebar/DriveList.tsx
**Dependencies:** [`Link`](next/link).
**Last Updated:** 2025-07-20

### DriveList(): JSX.Element
**Purpose:** Displays a list of drives, categorized into owned and shared drives.
**Location:** apps/web/src/components/layout/left-sidebar/DriveList.tsx
**Dependencies:** [`Link`](next/link), [`useDriveStore`](@/hooks/useDrive), [`useParams`](next/navigation).
**Last Updated:** 2025-07-20

### Sidebar(): JSX.Element
**Purpose:** The main sidebar component, containing drive and page tree navigation, and options for creating new drives/pages.
**Location:** apps/web/src/components/layout/left-sidebar/index.tsx
**Dependencies:** [`Input`](@/components/ui/input), [`Button`](@/components/ui/button), [`Link`](next/link), [`CreatePageDialog`](@/components/layout/left-sidebar/CreatePageDialog), [`DriveList`](@/components/layout/left-sidebar/DriveList), [`PageTree`](@/components/layout/left-sidebar/page-tree/PageTree), [`useParams`](next/navigation).
**Last Updated:** 2025-07-20

### DriveSwitcher(): JSX.Element
**Purpose:** A dropdown component for switching between different drives (workspaces).
**Location:** apps/web/src/components/layout/left-sidebar/workspace-selector.tsx
**Dependencies:** [`DropdownMenu`](@/components/ui/dropdown-menu), [`DropdownMenuContent`](@/components/ui/dropdown-menu), [`DropdownMenuGroup`](@/components/ui/dropdown-menu), [`DropdownMenuItem`](@/components/ui/dropdown-menu), [`DropdownMenuLabel`](@/components/ui/dropdown-menu), [`DropdownMenuSeparator`](@/components/ui/dropdown-menu), [`DropdownMenuTrigger`](@/components/ui/dropdown-menu), [`Button`](@/components/ui/button), [`CreateDriveDialog`](@/components/layout/left-sidebar/CreateDriveDialog), [`useDriveStore`](@/hooks/useDrive), [`useRouter`](next/navigation), [`useParams`](next/navigation).
**Last Updated:** 2025-07-20

##### Main Header
### TopBar({ onToggleLeftPanel, onToggleRightPanel }: TopBarProps): JSX.Element
**Purpose:** The main application header, providing navigation, search, and panel toggle buttons.
**Location:** apps/web/src/components/layout/main-header/index.tsx
**Dependencies:** [`Button`](@/components/ui/button), [`Input`](@/components/ui/input), [`Link`](next/link), [`ThemeToggle`](@/components/shared/ThemeToggle), [`AuthButtons`](@/components/shared/AuthButtons).
**Last Updated:** 2025-07-20

##### Middle Content
### DriveGrid(): JSX.Element
**Purpose:** Renders a grid view of drives.
**Location:** apps/web/src/components/layout/middle-content/index.tsx
**Dependencies:** [`Link`](next/link), [`Card`](@/components/ui/card), [`CardContent`](@/components/ui/card), [`CardHeader`](@/components/ui/card), [`CardTitle`](@/components/ui/card), [`useDriveStore`](@/hooks/useDrive).
**Last Updated:** 2025-07-20

### PageContent({ pageId }: { pageId: string | null }): JSX.Element
**Purpose:** Renders the appropriate page view (Document, Channel, Folder, Drive, AI Chat, Settings) based on the page type.
**Location:** apps/web/src/components/layout/middle-content/index.tsx
**Dependencies:** [`DocumentView`](@/components/layout/middle-content/page-views/document/DocumentView), [`ChannelView`](@/components/layout/middle-content/page-views/channel/ChannelView), [`FolderView`](@/components/layout/middle-content/page-views/folder/FolderView), [`DriveView`](@/components/layout/middle-content/page-views/drive/DriveView), [`ChatView`](@/components/layout/middle-content/page-views/ai-page/AiChatView), [`AiSettingsView`](@/components/layout/middle-content/page-views/settings/AiSettingsView), [`usePageTree`](@/hooks/usePageTree), [`usePageStore`](@/hooks/usePage).
**Last Updated:** 2025-07-20

### CenterPanel(): JSX.Element
**Purpose:** The main center panel of the application, displaying the current page content and header.
**Location:** apps/web/src/components/layout/middle-content/index.tsx
**Dependencies:** [`CustomScrollArea`](@/components/ui/custom-scroll-area), [`ViewHeader`](@/components/layout/middle-content/content-header), [`PageContent`](@/components/layout/middle-content), [`useParams`](next/navigation).
**Last Updated:** 2025-07-20

###### Content Header
### Breadcrumbs(): JSX.Element
**Purpose:** Displays the breadcrumbs navigation for the current page.
**Location:** apps/web/src/components/layout/middle-content/content-header/Breadcrumbs.tsx
**Dependencies:** [`Link`](next/link), [`useBreadcrumbs`](@/hooks/useBreadcrumbs), [`useParams`](next/navigation).
**Last Updated:** 2025-07-20

### ChatSettings({ availableModels, currentModel, onModelChange, isLoading }: ChatSettingsProps): JSX.Element
**Purpose:** Provides settings for AI chat, including model and provider selection.
**Location:** apps/web/src/components/layout/middle-content/content-header/ChatSettings.tsx
**Dependencies:** [`Select`](@/components/ui/select), [`SelectContent`](@/components/ui/select), [`SelectItem`](@/components/ui/select), [`SelectTrigger`](@/components/ui/select), [`SelectValue`](@/components/ui/select), [`Button`](@/components/ui/button), [`useAiSettings`](@/hooks/useAiSettings).
**Last Updated:** 2025-07-20

### EditableTitle(): JSX.Element
**Purpose:** An editable title component for pages, allowing inline editing and saving.
**Location:** apps/web/src/components/layout/middle-content/content-header/EditableTitle.tsx
**Dependencies:** [`Input`](@/components/ui/input), [`usePageStore`](@/hooks/usePage), [`useParams`](next/navigation).
**Last Updated:** 2025-07-20

### ViewHeader(): JSX.Element
**Purpose:** The header component for different page views, displaying the page title, breadcrumbs, and chat settings if applicable.
**Location:** apps/web/src/components/layout/middle-content/content-header/index.tsx
**Dependencies:** [`Breadcrumbs`](@/components/layout/middle-content/content-header/Breadcrumbs), [`EditableTitle`](@/components/layout/middle-content/content-header/EditableTitle), [`ChatSettings`](@/components/layout/middle-content/content-header/ChatSettings), [`usePageStore`](@/hooks/usePage), [`useParams`](next/navigation), [`useAiSettings`](@/hooks/useAiSettings).
**Last Updated:** 2025-07-20

###### Page Views
### AiChatView({ page }: ChatViewProps): JSX.Element
**Purpose:** Displays the AI chat interface for a specific page, including message history, input, and regeneration/edit options.
**Location:** apps/web/src/components/layout/middle-content/page-views/ai-page/AiChatView.tsx
**Dependencies:** [`ScrollArea`](@/components/ui/scroll-area), [`Textarea`](@/components/ui/textarea), [`Button`](@/components/ui/button), [`Avatar`](@/components/ui/avatar), [`AvatarImage`](@/components/ui/avatar), [`AvatarFallback`](@/components/ui/avatar), [`Alert`](@/components/ui/alert), [`AlertDescription`](@/components/ui/alert), [`ChatInput`](@/components/messages/ChatInput), [`MessagePartRenderer`](@/components/messages/MessagePartRenderer), [`useChat`](ai/react), [`useAiSettings`](@/hooks/useAiSettings).
**Last Updated:** 2025-07-20

### ChatInterface({ page: initialPage }: { page: DetailedPage }): JSX.Element
**Purpose:** The core chat interface logic and rendering for AI chat views.
**Location:** apps/web/src/components/layout/middle-content/page-views/ai-page/AiChatView.tsx
**Dependencies:** [`useChat`](ai/react), [`useState`](react:useState()), [`useEffect`](react:useEffect()), [`useRef`](react:useRef()), [`getSender`](apps/web/src/components/layout/middle-content/page-views/ai-page/AiChatView.tsx:getSender), [`handleEditClick`](apps/web/src/components/layout/middle-content/page-views/ai-page/AiChatView.tsx:handleEditClick), [`handleCancelEdit`](apps/web/src/components/layout/middle-content/page-views/ai-page/AiChatView.tsx:handleCancelEdit), [`handleSaveEdit`](apps/web/src/components/layout/middle-content/page-views/ai-page/AiChatView.tsx:handleSaveEdit), [`handleRegenerate`](apps/web/src/components/layout/middle-content/page-views/ai-page/AiChatView.tsx:handleRegenerate), [`handleSendMessage`](apps/web/src/components/layout/middle-content/page-views/ai-page/AiChatView.tsx:handleSendMessage).
**Last Updated:** 2025-07-20

### getSender(message: (typeof messages)[0]): User | null
**Purpose:** Determines the sender of a chat message (user or assistant).
**Location:** apps/web/src/components/layout/middle-content/page-views/ai-page/AiChatView.tsx
**Dependencies:** None explicit.
**Last Updated:** 2025-07-20

### handleEditClick(message: (typeof messages)[0]): void
**Purpose:** Sets the message to be edited in the AI chat.
**Location:** apps/web/src/components/layout/middle-content/page-views/ai-page/AiChatView.tsx
**Dependencies:** None explicit.
**Last Updated:** 2025-07-20

### handleCancelEdit(): void
**Purpose:** Cancels the current message edit operation in the AI chat.
**Location:** apps/web/src/components/layout/middle-content/page-views/ai-page/AiChatView.tsx
**Dependencies:** None explicit.
**Last Updated:** 2025-07-20

### handleSaveEdit(): Promise<void>
**Purpose:** Saves the edited message in the AI chat.
**Location:** apps/web/src/components/layout/middle-content/page-views/ai-page/AiChatView.tsx
**Dependencies:** [`handlePageChatEdit`](apps/web/src/app/api/ai/shared/message-handlers.ts:handlePageChatEdit), [`handleAssistantEdit`](apps/web/src/app/api/ai/shared/message-handlers.ts:handleAssistantEdit).
**Last Updated:** 2025-07-20

### handleRegenerate(messageId: string): void
**Purpose:** Regenerates the AI response from a specific message in the AI chat.
**Location:** apps/web/src/components/layout/middle-content/page-views/ai-page/AiChatView.tsx
**Dependencies:** [`handlePageChatRegenerate`](apps/web/src/app/api/ai/shared/message-handlers.ts:handlePageChatRegenerate), [`handleAssistantRegenerate`](apps/web/src/app/api/ai/shared/message-handlers.ts:handleAssistantRegenerate).
**Last Updated:** 2025-07-20

### handleSendMessage(): void
**Purpose:** Sends a new message in the AI chat.
**Location:** apps/web/src/components/layout/middle-content/page-views/ai-page/AiChatView.tsx
**Dependencies:** None explicit.
**Last Updated:** 2025-07-20

### ChannelView({ page }: ChannelViewProps): JSX.Element
**Purpose:** Displays a channel view with message history and a chat input.
**Location:** apps/web/src/components/layout/middle-content/page-views/channel/ChannelView.tsx
**Dependencies:** [`ScrollArea`](@/components/ui/scroll-area), [`Avatar`](@/components/ui/avatar), [`AvatarImage`](@/components/ui/avatar), [`AvatarFallback`](@/components/ui/avatar), [`ChatInput`](@/components/messages/ChatInput), [`Button`](@/components/ui/button), [`MessagePartRenderer`](@/components/messages/MessagePartRenderer), [`useSocket`](@/hooks/useSocket), [`useParams`](next/navigation).
**Last Updated:** 2025-07-20

### handleSubmit(content: string): Promise<void>
**Purpose:** Handles the submission of a new message in the channel, sending it via socket.
**Location:** apps/web/src/components/layout/middle-content/page-views/channel/ChannelView.tsx
**Dependencies:** [`socket`](@/hooks/useSocket).
**Last Updated:** 2025-07-20

### handleSendMessage(): void
**Purpose:** Triggers the message submission in the channel view.
**Location:** apps/web/src/components/layout/middle-content/page-views/channel/ChannelView.tsx
**Dependencies:** None explicit.
**Last Updated:** 2025-07-20

### DocumentView({ page }: DocumentViewProps): JSX.Element
**Purpose:** Displays a document view with a richline editor for content editing.
**Location:** apps/web/src/components/layout/middle-content/page-views/document/DocumentView.tsx
**Dependencies:** [`RichlineEditor`](packages/richline-editor/src/RichlineEditor.tsx:RichlineEditor), [`SuggestionPopup`](@/components/mentions/SuggestionPopup), [`usePageStore`](@/hooks/usePage), [`useParams`](next/navigation), [`initializeWasm`](packages/richline-editor/src/rust-bridge.ts:initializeWasm).
**Last Updated:** 2025-07-20

### DocumentViewWithProvider({ page }: DocumentViewProps): JSX.Element
**Purpose:** Provides the context for the DocumentView, including state management for the Richline Editor and saving content.
**Location:** apps/web/src/components/layout/middle-content/page-views/document/DocumentView.tsx
**Dependencies:** [`useState`](react:useState()), [`useEffect`](react:useEffect()), [`useRef`](react:useRef()), [`useCallback`](react:useCallback()), [`useSuggestion`](@/hooks/useSuggestion).
**Last Updated:** 2025-07-20

### saveContent(newValue: string): Promise<void>
**Purpose:** Saves the content of the document to the backend.
**Location:** apps/web/src/components/layout/middle-content/page-views/document/DocumentView.tsx
**Dependencies:** [`usePageStore`](@/hooks/usePage).
**Last Updated:** 2025-07-20

### DriveView({ pages }: DriveViewProps): JSX.Element
**Purpose:** Displays the contents of a drive, allowing users to switch between list and grid views and sort pages.
**Location:** apps/web/src/components/layout/middle-content/page-views/drive/DriveView.tsx
**Dependencies:** [`useState`](react:useState()), [`useMemo`](react:useMemo()), [`DriveViewHeader`](@/components/layout/middle-content/page-views/drive/DriveViewHeader), [`ListView`](@/components/layout/middle-content/page-views/drive/ListView), [`GridView`](@/components/layout/middle-content/page-views/drive/GridView).
**Last Updated:** 2025-07-20

### handleSort(key: SortKey): void
**Purpose:** Handles sorting of pages in the drive view.
**Location:** apps/web/src/components/layout/middle-content/page-views/drive/DriveView.tsx
**Dependencies:** None explicit.
**Last Updated:** 2025-07-20

### sortedPages(): Page[]
**Purpose:** Memoized function to sort pages based on the current sort key and direction.
**Location:** apps/web/src/components/layout/middle-content/page-views/drive/DriveView.tsx
**Dependencies:** None explicit.
**Last Updated:** 2025-07-20

### DriveViewHeader({ viewMode, onViewChange }: DriveViewHeaderProps): JSX.Element
**Purpose:** Header for the drive view, providing options to switch between list and grid views.
**Location:** apps/web/src/components/layout/middle-content/page-views/drive/DriveViewHeader.tsx
**Dependencies:** [`Button`](@/components/ui/button).
**Last Updated:** 2025-07-20

### GridView({ items }: GridViewProps): JSX.Element
**Purpose:** Renders pages in a grid layout.
**Location:** apps/web/src/components/layout/middle-content/page-views/drive/GridView.tsx
**Dependencies:** [`Link`](next/link), [`useParams`](next/navigation).
**Last Updated:** 2025-07-20

### Icon({ type, className }: IconProps): JSX.Element
**Purpose:** Renders an icon based on the page type.
**Location:** apps/web/src/components/layout/middle-content/page-views/drive/Icon.tsx
**Dependencies:** None explicit.
**Last Updated:** 2025-07-20

### getIconComponent(type: PageType): JSX.Element
**Purpose:** Returns the appropriate icon component for a given page type.
**Location:** apps/web/src/components/layout/middle-content/page-views/drive/Icon.tsx
**Dependencies:** None explicit.
**Last Updated:** 2025-07-20

### ListView({ items, sortKey, sortDirection, onSort }: ListViewProps): JSX.Element
**Purpose:** Renders pages in a list (table) layout with sortable columns.
**Location:** apps/web/src/components/layout/middle-content/page-views/drive/ListView.tsx
**Dependencies:** [`Table`](@/components/ui/table), [`TableBody`](@/components/ui/table), [`TableCell`](@/components/ui/table), [`TableHead`](@/components/ui/table), [`TableHeader`](@/components/ui/table), [`TableRow`](@/components/ui/table), [`Button`](@/components/ui/button).
**Last Updated:** 2025-07-20

### renderHeader(key: SortKey, title: string, className?: string): JSX.Element
**Purpose:** Renders a sortable table header cell.
**Location:** apps/web/src/components/layout/middle-content/page-views/drive/ListView.tsx
**Dependencies:** None explicit.
**Last Updated:** 2025-07-20

### FolderView({ page }: FolderViewProps): JSX.Element
**Purpose:** Displays the contents of a folder, allowing users to switch between list and grid views and sort pages.
**Location:** apps/web/src/components/layout/middle-content/page-views/folder/FolderView.tsx
**Dependencies:** [`useState`](react:useState()), [`useEffect`](react:useEffect()), [`useMemo`](react:useMemo()), [`FolderViewHeader`](@/components/layout/middle-content/page-views/folder/FolderViewHeader), [`ListView`](@/components/layout/middle-content/page-views/folder/ListView), [`GridView`](@/components/layout/middle-content/page-views/folder/GridView), [`usePageTree`](@/hooks/usePageTree).
**Last Updated:** 2025-07-20

### handleSort(key: SortKey): void
**Purpose:** Handles sorting of children pages in the folder view.
**Location:** apps/web/src/components/layout/middle-content/page-views/folder/FolderView.tsx
**Dependencies:** None explicit.
**Last Updated:** 2025-07-20

### sortedChildren(): Page[]
**Purpose:** Memoized function to sort children pages based on the current sort key and direction.
**Location:** apps/web/src/components/layout/middle-content/page-views/folder/FolderView.tsx
**Dependencies:** None explicit.
**Last Updated:** 2025-07-20

### FolderViewHeader({ viewMode, onViewChange }: FolderViewHeaderProps): JSX.Element
**Purpose:** Header for the folder view, providing options to switch between list and grid views.
**Location:** apps/web/src/components/layout/middle-content/page-views/folder/FolderViewHeader.tsx
**Dependencies:** [`Button`](@/components/ui/button).
**Last Updated:** 2025-07-20

### GridView({ items }: GridViewProps): JSX.Element
**Purpose:** Renders pages in a grid layout within a folder view.
**Location:** apps/web/src/components/layout/middle-content/page-views/folder/GridView.tsx
**Dependencies:** [`Link`](next/link), [`useParams`](next/navigation).
**Last Updated:** 2025-07-20

### Icon({ type, className }: IconProps): JSX.Element
**Purpose:** Renders an icon based on the page type in a folder view.
**Location:** apps/web/src/components/layout/middle-content/page-views/folder/Icon.tsx
**Dependencies:** None explicit.
**Last Updated:** 2025-07-20

### getIconComponent(type: PageType): JSX.Element
**Purpose:** Returns the appropriate icon component for a given page type in a folder view.
**Location:** apps/web/src/components/layout/middle-content/page-views/folder/Icon.tsx
**Dependencies:** None explicit.
**Last Updated:** 2025-07-20

### ListView({ items, sortKey, sortDirection, onSort }: ListViewProps): JSX.Element
**Purpose:** Renders pages in a list (table) layout with sortable columns within a folder view.
**Location:** apps/web/src/components/layout/middle-content/page-views/folder/ListView.tsx
**Dependencies:** [`Table`](@/components/ui/table), [`TableBody`](@/components/ui/table), [`TableCell`](@/components/ui/table), [`TableHead`](@/components/ui/table), [`TableHeader`](@/components/ui/table), [`TableRow`](@/components/ui/table), [`Button`](@/components/ui/button).
**Last Updated:** 2025-07-20

### renderHeader(key: SortKey, title: string, className?: string): JSX.Element
**Purpose:** Renders a sortable table header cell in a folder view.
**Location:** apps/web/src/components/layout/middle-content/page-views/folder/ListView.tsx
**Dependencies:** None explicit.
**Last Updated:** 2025-07-20

### AiSettingsView(): JSX.Element
**Purpose:** Displays the AI settings interface, allowing users to manage AI providers and models.
**Location:** apps/web/src/components/layout/middle-content/page-views/settings/AiSettingsView.tsx
**Dependencies:** [`ProviderSettings`](@/components/ai/ProviderSettings), [`useAiSettings`](@/hooks/useAiSettings).
**Last Updated:** 2025-07-20

##### Right Sidebar
### RightPanel(): JSX.Element
**Purpose:** The main right sidebar component, containing the AI assistant chat and history.
**Location:** apps/web/src/components/layout/right-sidebar/index.tsx
**Dependencies:** [`Tabs`](@/components/ui/tabs), [`TabsList`](@/components/ui/tabs), [`TabsTrigger`](@/components/ui/tabs), [`TabsContent`](@/components/ui/tabs), [`AssistantChat`](@/components/layout/right-sidebar/ai-assistant/AssistantChat), [`AssistantHistory`](@/components/layout/right-sidebar/ai-assistant/AssistantHistory), [`AssistantSettings`](@/components/layout/right-sidebar/ai-assistant/AssistantSettings), [`useAssistantStore`](@/stores/useAssistantStore).
**Last Updated:** 2025-07-20

### handleNewConversation(): void
**Purpose:** Initiates a new AI assistant conversation.
**Location:** apps/web/src/components/layout/right-sidebar/index.tsx
**Dependencies:** [`useAssistantStore`](@/stores/useAssistantStore).
**Last Updated:** 2025-07-20

###### AI Assistant
### AssistantChat({ chat }: AssistantChatProps): JSX.Element
**Purpose:** Displays the AI assistant chat interface, including message history, input, and regeneration/edit/promote options.
**Location:** apps/web/src/components/layout/right-sidebar/ai-assistant/AssistantChat.tsx
**Dependencies:** [`ScrollArea`](@/components/ui/scroll-area), [`Textarea`](@/components/ui/textarea), [`Button`](@/components/ui/button), [`Avatar`](@/components/ui/avatar), [`AvatarImage`](@/components/ui/avatar), [`AvatarFallback`](@/components/ui/avatar), [`ChatInput`](@/components/messages/ChatInput), [`MessagePartRenderer`](@/components/messages/MessagePartRenderer), [`useChat`](ai/react), [`useAssistantStore`](@/stores/useAssistantStore).
**Last Updated:** 2025-07-20

### handleEditClick(message: Message): void
**Purpose:** Sets the message to be edited in the AI assistant chat.
**Location:** apps/web/src/components/layout/right-sidebar/ai-assistant/AssistantChat.tsx
**Dependencies:** None explicit.
**Last Updated:** 2025-07-20

### handleCancelEdit(): void
**Purpose:** Cancels the current message edit operation in the AI assistant chat.
**Location:** apps/web/src/components/layout/right-sidebar/ai-assistant/AssistantChat.tsx
**Dependencies:** None explicit.
**Last Updated:** 2025-07-20

### handleSaveEdit(): Promise<void>
**Purpose:** Saves the edited message in the AI assistant chat.
**Location:** apps/web/src/components/layout/right-sidebar/ai-assistant/AssistantChat.tsx
**Dependencies:** [`handleAssistantEdit`](apps/web/src/app/api/ai/shared/message-handlers.ts:handleAssistantEdit).
**Last Updated:** 2025-07-20

### handleRegenerate(messageId: string): void
**Purpose:** Regenerates the AI response from a specific message in the AI assistant chat.
**Location:** apps/web/src/components/layout/right-sidebar/ai-assistant/AssistantChat.tsx
**Dependencies:** [`handleAssistantRegenerate`](apps/web/src/app/api/ai/shared/message-handlers.ts:handleAssistantRegenerate).
**Last Updated:** 2025-07-20

### handlePromote(): Promise<void>
**Purpose:** Promotes the current AI assistant conversation to a new page.
**Location:** apps/web/src/components/layout/right-sidebar/ai-assistant/AssistantChat.tsx
**Dependencies:** [`useRouter`](next/navigation), [`useAssistantStore`](@/stores/useAssistantStore).
**Last Updated:** 2025-07-20

### handleSendMessage(): void
**Purpose:** Sends a new message in the AI assistant chat.
**Location:** apps/web/src/components/layout/right-sidebar/ai-assistant/AssistantChat.tsx
**Dependencies:** None explicit.
**Last Updated:** 2025-07-20

### AssistantHistory({ setMessages, setActiveTab }: AssistantHistoryProps): JSX.Element
**Purpose:** Displays the history of AI assistant conversations, allowing users to select and load past chats.
**Location:** apps/web/src/components/layout/right-sidebar/ai-assistant/AssistantHistory.tsx
**Dependencies:** [`ScrollArea`](@/components/ui/scroll-area), [`useAssistantStore`](@/stores/useAssistantStore), [`useRouter`](next/navigation).
**Last Updated:** 2025-07-20

### handleSelectConversation(id: string): Promise<void>
**Purpose:** Loads a selected AI assistant conversation from history.
**Location:** apps/web/src/components/layout/right-sidebar/ai-assistant/AssistantHistory.tsx
**Dependencies:** [`useAssistantStore`](@/stores/useAssistantStore).
**Last Updated:** 2025-07-20

### AssistantSettings(): JSX.Element
**Purpose:** Displays settings for the AI assistant, including model selection and a link to global AI settings.
**Location:** apps/web/src/components/layout/right-sidebar/ai-assistant/AssistantSettings.tsx
**Dependencies:** [`ChatSettings`](@/components/layout/middle-content/content-header/ChatSettings), [`Link`](next/link), [`useAiSettings`](@/hooks/useAiSettings).
**Last Updated:** 2025-07-20

### handleModelChange(newModel: string): Promise<void>
**Purpose:** Updates the AI model for the assistant.
**Location:** apps/web/src/components/layout/right-sidebar/ai-assistant/AssistantSettings.tsx
**Dependencies:** [`useAiSettings`](@/hooks/useAiSettings).
**Last Updated:** 2025-07-20

#### Mentions
### SuggestionList(props: SuggestionListProps, ref: React.Ref<{ onKeyDown: (props: { event: KeyboardEvent; }) => boolean; }>): JSX.Element
**Purpose:** Renders a list of mention suggestions, handling keyboard navigation and item selection.
**Location:** apps/web/src/components/mentions/SuggestionList.tsx
**Dependencies:** [`forwardRef`](react:forwardRef()), [`useState`](react:useState()), [`useEffect`](react:useEffect()), [`useImperativeHandle`](react:useImperativeHandle()), [`useCallback`](react:useCallback()), [`Link`](next/link), [`Avatar`](@/components/ui/avatar), [`AvatarImage`](@/components/ui/avatar), [`AvatarFallback`](@/components/ui/avatar), [`Icon`](@/components/layout/middle-content/page-views/drive/Icon).
**Last Updated:** 2025-07-20

### selectItem(index: number): void
**Purpose:** Selects an item in the suggestion list.
**Location:** apps/web/src/components/mentions/SuggestionList.tsx
**Dependencies:** None explicit.
**Last Updated:** 2025-07-20

### upHandler(): void
**Purpose:** Handles the "ArrowUp" key press for navigating the suggestion list.
**Location:** apps/web/src/components/mentions/SuggestionList.tsx
**Dependencies:** None explicit.
**Last Updated:** 2025-07-20

### getTypeIcon(type: string): JSX.Element
**Purpose:** Returns the appropriate icon for a given suggestion type.
**Location:** apps/web/src/components/mentions/SuggestionList.tsx
**Dependencies:** None explicit.
**Last Updated:** 2025-07-20

### getTypeColor(type: string): string
**Purpose:** Returns the appropriate color class for a given suggestion type.
**Location:** apps/web/src/components/mentions/SuggestionList.tsx
**Dependencies:** None explicit.
**Last Updated:** 2025-07-20

### SuggestionPopup({ children, targetRef, onSelect, onQueryChange, onKeyDown, isLoading, items, error, open, close, position }: SuggestionPopupProps): JSX.Element
**Purpose:** A popup component that displays a list of suggestions based on user input, positioned relative to a target element.
**Location:** apps/web/src/components/mentions/SuggestionPopup.tsx
**Dependencies:** [`SuggestionList`](@/components/mentions/SuggestionList), [`Portal`](@radix-ui/react-portal:Portal), [`Image`](next/image), [`useSuggestionContext`](@/components/providers/SuggestionProvider).
**Last Updated:** 2025-07-20

### renderContent(): JSX.Element
**Purpose:** Renders the content of the suggestion popup, including loading states, error messages, and the suggestion list.
**Location:** apps/web/src/components/mentions/SuggestionPopup.tsx
**Dependencies:** None explicit.
**Last Updated:** 2025-07-20

### TiptapSuggestionList({ items, command }: { items: MentionSuggestion[], command: (item: MentionSuggestion) => void }, ref: React.Ref<any>): JSX.Element
**Purpose:** A simple suggestion list component specifically designed for Tiptap mention system, handling keyboard navigation and item selection.
**Location:** apps/web/src/lib/tiptap-mention-config.tsx
**Dependencies:** [`forwardRef`](react:forwardRef()), [`useState`](react:useState()), [`useEffect`](react:useEffect()), [`useImperativeHandle`](react:useImperativeHandle()), [`MentionSuggestion`](@/types/mentions).
**Last Updated:** 2025-07-25

### PageMention
**Purpose:** A configured Tiptap Mention extension for page mentions in the document editor, generating clean HTML with data attributes for Prettier compatibility.
**Location:** apps/web/src/lib/tiptap-mention-config.tsx
**Dependencies:** [`Mention`](@tiptap/extension-mention), [`ReactRenderer`](@tiptap/react), [`useDriveStore`](@/hooks/useDrive), [`MentionSuggestion`](@/types/mentions), [`tippy`](tippy.js), [`TiptapSuggestionList`](apps/web/src/lib/tiptap-mention-config.tsx).
**Last Updated:** 2025-07-25

#### Messages
### ChatInput({ onSendMessage, isLoading, disabled }: ChatInputProps, ref: React.Ref<ChatInputRef>): JSX.Element
**Purpose:** A chat input component that supports mentions and handles message sending.
**Location:** apps/web/src/components/messages/ChatInput.tsx
**Dependencies:** [`Textarea`](@/components/ui/textarea), [`SuggestionPopup`](@/components/mentions/SuggestionPopup), [`forwardRef`](react:forwardRef()), [`useState`](react:useState()), [`useEffect`](react:useEffect()), [`useImperativeHandle`](react:useImperativeHandle()), [`useCallback`](react:useCallback()), [`useSuggestion`](@/hooks/useSuggestion).
**Last Updated:** 2025-07-20

### ChatInputWithProvider({ onSendMessage, isLoading, disabled }: ChatInputProps, ref: React.Ref<ChatInputRef>): JSX.Element
**Purpose:** Wraps the `ChatInput` with a `SuggestionProvider` for mention functionality.
**Location:** apps/web/src/components/messages/ChatInput.tsx
**Dependencies:** [`SuggestionProvider`](@/components/providers/SuggestionProvider), [`ChatInput`](@/components/messages/ChatInput).
**Last Updated:** 2025-07-20

### handleKeyDown(e: React.KeyboardEvent<HTMLTextAreaElement>): void
**Purpose:** Handles keydown events in the chat input, specifically for sending messages on Enter and managing suggestions.
**Location:** apps/web/src/components/messages/ChatInput.tsx
**Dependencies:** None explicit.
**Last Updated:** 2025-07-20

### MessagePartRenderer({ part, index }: MessagePartRendererProps): React.ReactNode
**Purpose:** Renders individual parts of a message, handling rich text and tool invocations.
**Location:** apps/web/src/components/messages/MessagePartRenderer.tsx
**Dependencies:** [`ReactMarkdown`](react-markdown), [`remarkGfm`](remark-gfm), [`Prism`](react-syntax-highlighter/dist/esm/prism), [`oneDark`](react-syntax-highlighter/dist/esm/styles/prism), [`Link`](next/link).
**Last Updated:** 2025-07-20

### convertToMessageParts(content: string | Record<string, unknown>): MessagePart[]
**Purpose:** Converts raw message content (string or JSON) into a structured array of message parts for rendering.
**Location:** apps/web/src/components/messages/MessagePartRenderer.tsx
**Dependencies:** None explicit.
**Last Updated:** 2025-07-20

### renderMessageParts(parts: MessagePart[], context?: 'message'): React.ReactNode
**Purpose:** Renders an array of message parts into React nodes.
**Location:** apps/web/src/components/messages/MessagePartRenderer.tsx
**Dependencies:** [`MessagePartRenderer`](@/components/messages/MessagePartRenderer).
**Last Updated:** 2025-07-20

#### Providers
### useSuggestionContext(): SuggestionContextProps
**Purpose:** A hook to access the suggestion context provided by `SuggestionProvider`.
**Location:** apps/web/src/components/providers/SuggestionProvider.tsx
**Dependencies:** None explicit.
**Last Updated:** 2025-07-20

### SuggestionProvider({ children }: { children: React.ReactNode }): JSX.Element
**Purpose:** Provides a context for managing and displaying mention suggestions across components.
**Location:** apps/web/src/components/providers/SuggestionProvider.tsx
**Dependencies:** [`useState`](react:useState()), [`useRef`](react:useRef()), [`useCallback`](react:useCallback()), [`useMemo`](react:useMemo()), [`useSuggestionCore`](@/hooks/useSuggestionCore), [`SuggestionPopup`](@/components/mentions/SuggestionPopup).
**Last Updated:** 2025-07-20

### loggedSetItems(newItems: MentionSuggestion[]): void
**Purpose:** Sets the suggestion items in the context.
**Location:** apps/web/src/components/providers/SuggestionProvider.tsx
**Dependencies:** None explicit.
**Last Updated:** 2025-07-20

### loggedSetLoading(loading: boolean): void
**Purpose:** Sets the loading state for suggestions in the context.
**Location:** apps/web/src/components/providers/SuggestionProvider.tsx
**Dependencies:** None explicit.
**Last Updated:** 2025-07-20

### loggedSetError(error: string | null): void
**Purpose:** Sets an error message for suggestions in the context.
**Location:** apps/web/src/components/providers/SuggestionProvider.tsx
**Dependencies:** None explicit.
**Last Updated:** 2025-07-20

### open(position: Position): void
**Purpose:** Opens the suggestion popup at a given position.
**Location:** apps/web/src/components/providers/SuggestionProvider.tsx
**Dependencies:** None explicit.
**Last Updated:** 2025-07-20

### close(): void
**Purpose:** Closes the suggestion popup.
**Location:** apps/web/src/components/providers/SuggestionProvider.tsx
**Dependencies:** None explicit.
**Last Updated:** 2025-07-20

#### Shared Components
### AuthButtons(): JSX.Element
**Purpose:** Renders authentication buttons (Sign In, Sign Up, Sign Out) based on the user's authentication status.
**Location:** apps/web/src/components/shared/AuthButtons.tsx
**Dependencies:** [`Link`](next/link), [`Button`](@/components/ui/button), [`useAuth`](@/hooks/use-auth).
**Last Updated:** 2025-07-20

### handleSignOut(): Promise<void>
**Purpose:** Handles user sign out by invalidating the session.
**Location:** apps/web/src/components/shared/AuthButtons.tsx
**Dependencies:** [`useAuth`](@/hooks/use-auth).
**Last Updated:** 2025-07-20

### ThemeToggle(): JSX.Element
**Purpose:** A button to toggle between light and dark themes.
**Location:** apps/web/src/components/shared/ThemeToggle.tsx
**Dependencies:** [`DropdownMenu`](@/components/ui/dropdown-menu), [`DropdownMenuContent`](@/components/ui/dropdown-menu), [`DropdownMenuItem`](@/components/ui/dropdown-menu), [`DropdownMenuTrigger`](@/components/ui/dropdown-menu), [`Button`](@/components/ui/button), [`useTheme`](next-themes:useTheme).
**Last Updated:** 2025-07-20

#### UI Components
### Accordion({ className, children, ...props }: AccordionProps): JSX.Element
**Purpose:** A collapsible content area component.
**Location:** apps/web/src/components/ui/accordion.tsx
**Dependencies:** [`AccordionPrimitive.Root`](@radix-ui/react-accordion:Root).
**Last Updated:** 2025-07-20

### AccordionItem({ className, ...props }: AccordionItemProps): JSX.Element
**Purpose:** An individual collapsible item within an Accordion.
**Location:** apps/web/src/components/ui/accordion.tsx
**Dependencies:** [`AccordionPrimitive.Item`](@radix-ui/react-accordion:Item).
**Last Updated:** 2025-07-20

### AccordionTrigger({ className, children, ...props }: AccordionTriggerProps): JSX.Element
**Purpose:** The trigger button for an AccordionItem, which expands or collapses its content.
**Location:** apps/web/src/components/ui/accordion.tsx
**Dependencies:** [`AccordionPrimitive.Header`](@radix-ui/react-accordion:Header), [`AccordionPrimitive.Trigger`](@radix-ui/react-accordion:Trigger).
**Last Updated:** 2025-07-20

### AccordionContent({ className, children, ...props }: AccordionContentProps): JSX.Element
**Purpose:** The collapsible content area of an AccordionItem.
**Location:** apps/web/src/components/ui/accordion.tsx
**Dependencies:** [`AccordionPrimitive.Content`](@radix-ui/react-accordion:Content).
**Last Updated:** 2025-07-20

### AlertDialog({ ...props }: AlertDialogProps): JSX.Element
**Purpose:** A modal dialog that interrupts the user with important content and expects a response.
**Location:** apps/web/src/components/ui/alert-dialog.tsx
**Dependencies:** [`AlertDialogPrimitive.Root`](@radix-ui/react-alert-dialog:Root).
**Last Updated:** 2025-07-20

### AlertDialogTrigger({ ...props }: AlertDialogTriggerProps): JSX.Element
**Purpose:** The button that opens an AlertDialog.
**Location:** apps/web/src/components/ui/alert-dialog.tsx
**Dependencies:** [`AlertDialogPrimitive.Trigger`](@radix-ui/react-alert-dialog:Trigger).
**Last Updated:** 2025-07-20

### AlertDialogPortal({ ...props }: AlertDialogPortalProps): JSX.Element
**Purpose:** A portal for rendering AlertDialog content outside the normal DOM hierarchy.
**Location:** apps/web/src/components/ui/alert-dialog.tsx
**Dependencies:** [`AlertDialogPrimitive.Portal`](@radix-ui/react-alert-dialog:Portal).
**Last Updated:** 2025-07-20

### AlertDialogOverlay({ className, ...props }: AlertDialogOverlayProps): JSX.Element
**Purpose:** The overlay that appears behind an AlertDialog, dimming the rest of the page.
**Location:** apps/web/src/components/ui/alert-dialog.tsx
**Dependencies:** [`AlertDialogPrimitive.Overlay`](@radix-ui/react-alert-dialog:Overlay).
**Last Updated:** 2025-07-20

### AlertDialogContent({ className, ...props }: AlertDialogContentProps): JSX.Element
**Purpose:** The main content area of an AlertDialog.
**Location:** apps/web/src/components/ui/alert-dialog.tsx
**Dependencies:** [`AlertDialogPortal`](@/components/ui/alert-dialog), [`AlertDialogPrimitive.Content`](@radix-ui/react-alert-dialog:Content).
**Last Updated:** 2025-07-20

### AlertDialogHeader({ className, ...props }: React.ComponentProps<"div">): JSX.Element
**Purpose:** The header section of an AlertDialog, typically containing a title and description.
**Location:** apps/web/src/components/ui/alert-dialog.tsx
**Dependencies:** None explicit.
**Last Updated:** 2025-07-20

### AlertDialogFooter({ className, ...props }: React.ComponentProps<"div">): JSX.Element
**Purpose:** The footer section of an AlertDialog, typically containing action buttons.
**Location:** apps/web/src/components/ui/alert-dialog.tsx
**Dependencies:** None explicit.
**Last Updated:** 2025-07-20

### AlertDialogTitle({ className, ...props }: AlertDialogTitleProps): JSX.Element
**Purpose:** The title of an AlertDialog.
**Location:** apps/web/src/components/ui/alert-dialog.tsx
**Dependencies:** [`AlertDialogPrimitive.Title`](@radix-ui/react-alert-dialog:Title).
**Last Updated:** 2025-07-20

### AlertDialogDescription({ className, ...props }: AlertDialogDescriptionProps): JSX.Element
**Purpose:** The descriptive text of an AlertDialog.
**Location:** apps/web/src/components/ui/alert-dialog.tsx
**Dependencies:** [`AlertDialogPrimitive.Description`](@radix-ui/react-alert-dialog:Description).
**Last Updated:** 2025-07-20

### AlertDialogAction({ className, ...props }: AlertDialogActionProps): JSX.Element
**Purpose:** An action button within an AlertDialog.
**Location:** apps/web/src/components/ui/alert-dialog.tsx
**Dependencies:** [`AlertDialogPrimitive.Action`](@radix-ui/react-alert-dialog:Action).
**Last Updated:** 2025-07-20

### AlertDialogCancel({ className, ...props }: AlertDialogCancelProps): JSX.Element
**Purpose:** A cancel button within an AlertDialog.
**Location:** apps/web/src/components/ui/alert-dialog.tsx
**Dependencies:** [`AlertDialogPrimitive.Cancel`](@radix-ui/react-alert-dialog:Cancel).
**Last Updated:** 2025-07-20

### Alert({ className, variant, ...props }: AlertProps): JSX.Element
**Purpose:** A component to display important messages to the user.
**Location:** apps/web/src/components/ui/alert.tsx
**Dependencies:** None explicit.
**Last Updated:** 2025-07-20

### AlertTitle({ className, ...props }: React.ComponentProps<"div">): JSX.Element
**Purpose:** The title of an Alert component.
**Location:** apps/web/src/components/ui/alert.tsx
**Dependencies:** None explicit.
**Last Updated:** 2025-07-20

### AlertDescription({ className, ...props }: React.ComponentProps<"p">): JSX.Element
**Purpose:** The descriptive content of an Alert component.
**Location:** apps/web/src/components/ui/alert.tsx
**Dependencies:** None explicit.
**Last Updated:** 2025-07-20

### Avatar({ className, ...props }: AvatarProps): JSX.Element
**Purpose:** A component for displaying user avatars or placeholders.
**Location:** apps/web/src/components/ui/avatar.tsx
**Dependencies:** [`AvatarPrimitive.Root`](@radix-ui/react-avatar:Root).
**Last Updated:** 2025-07-20

### AvatarImage({ className, ...props }: AvatarImageProps): JSX.Element
**Purpose:** The image element within an Avatar component.
**Location:** apps/web/src/components/ui/avatar.tsx
**Dependencies:** [`AvatarPrimitive.Image`](@radix-ui/react-avatar:Image).
**Last Updated:** 2025-07-20

### AvatarFallback({ className, ...props }: AvatarFallbackProps): JSX.Element
**Purpose:** A fallback element displayed when an AvatarImage fails to load.
**Location:** apps/web/src/components/ui/avatar.tsx
**Dependencies:** [`AvatarPrimitive.Fallback`](@radix-ui/react-avatar:Fallback).
**Last Updated:** 2025-07-20

### Badge({ className, variant, ...props }: BadgeProps): JSX.Element
**Purpose:** A small, decorative component used to highlight information.
**Location:** apps/web/src/components/ui/badge.tsx
**Dependencies:** None explicit.
**Last Updated:** 2025-07-20

### Button({ className, variant, size, asChild, ...props }: ButtonProps): JSX.Element
**Purpose:** A customizable button component.
**Location:** apps/web/src/components/ui/button.tsx
**Dependencies:** None explicit.
**Last Updated:** 2025-07-20

### Card({ className, ...props }: React.ComponentProps<"div">): JSX.Element
**Purpose:** A flexible content container with a distinct border and shadow.
**Location:** apps/web/src/components/ui/card.tsx
**Dependencies:** None explicit.
**Last Updated:** 2025-07-20

### CardHeader({ className, ...props }: React.ComponentProps<"div">): JSX.Element
**Purpose:** The header section of a Card.
**Location:** apps/web/src/components/ui/card.tsx
**Dependencies:** None explicit.
**Last Updated:** 2025-07-20

### CardTitle({ className, ...props }: React.ComponentProps<"h3">): JSX.Element
**Purpose:** The title of a Card.
**Location:** apps/web/src/components/ui/card.tsx
**Dependencies:** None explicit.
**Last Updated:** 2025-07-20

### CardDescription({ className, ...props }: React.ComponentProps<"p">): JSX.Element
**Purpose:** The descriptive text of a Card.
**Location:** apps/web/src/components/ui/card.tsx
**Dependencies:** None explicit.
**Last Updated:** 2025-07-20

### CardAction({ className, ...props }: React.ComponentProps<"div">): JSX.Element
**Purpose:** A section within a Card for actions or buttons.
**Location:** apps/web/src/components/ui/card.tsx
**Dependencies:** None explicit.
**Last Updated:** 2025-07-20

### CardContent({ className, ...props }: React.ComponentProps<"div">): JSX.Element
**Purpose:** The main content area of a Card.
**Location:** apps/web/src/components/ui/card.tsx
**Dependencies:** None explicit.
**Last Updated:** 2025-07-20

### CardFooter({ className, ...props }: React.ComponentProps<"div">): JSX.Element
**Purpose:** The footer section of a Card.
**Location:** apps/web/src/components/ui/card.tsx
**Dependencies:** None explicit.
**Last Updated:** 2025-07-20

### Checkbox({ className, ...props }: CheckboxProps): JSX.Element
**Purpose:** A checkbox component for boolean input.
**Location:** apps/web/src/components/ui/checkbox.tsx
**Dependencies:** [`CheckboxPrimitive.Root`](@radix-ui/react-checkbox:Root), [`CheckboxPrimitive.Indicator`](@radix-ui/react-checkbox:Indicator).
**Last Updated:** 2025-07-20

### Command({ className, ...props }: CommandProps): JSX.Element
**Purpose:** A command palette component for quick navigation and actions.
**Location:** apps/web/src/components/ui/command.tsx
**Dependencies:** [`CommandPrimitive.Root`](cmdk:Command).
**Last Updated:** 2025-07-20

### CommandDialog({ children, ...props }: CommandDialogProps): JSX.Element
**Purpose:** A dialog wrapper for the Command component.
**Location:** apps/web/src/components/ui/command.tsx
**Dependencies:** [`Dialog`](@/components/ui/dialog).
**Last Updated:** 2025-07-20

### CommandInput({ className, ...props }: CommandInputProps): JSX.Element
**Purpose:** The input field for the Command palette.
**Location:** apps/web/src/components/ui/command.tsx
**Dependencies:** [`CommandPrimitive.Input`](cmdk:Command.Input).
**Last Updated:** 2025-07-20

### CommandList({ className, ...props }: CommandListProps): JSX.Element
**Purpose:** The list container for Command items.
**Location:** apps/web/src/components/ui/command.tsx
**Dependencies:** [`CommandPrimitive.List`](cmdk:Command.List).
**Last Updated:** 2025-07-20

### CommandEmpty({ className, ...props }: CommandEmptyProps): JSX.Element
**Purpose:** Displays a message when no results are found in the Command list.
**Location:** apps/web/src/components/ui/command.tsx
**Dependencies:** [`CommandPrimitive.Empty`](cmdk:Command.Empty).
**Last Updated:** 2025-07-20

### CommandGroup({ className, ...props }: CommandGroupProps): JSX.Element
**Purpose:** A group of related Command items.
**Location:** apps/web/src/components/ui/command.tsx
**Dependencies:** [`CommandPrimitive.Group`](cmdk:Command.Group).
**Last Updated:** 2025-07-20

### CommandSeparator({ className, ...props }: CommandSeparatorProps): JSX.Element
**Purpose:** A visual separator between Command items or groups.
**Location:** apps/web/src/components/ui/command.tsx
**Dependencies:** [`CommandPrimitive.Separator`](cmdk:Command.Separator).
**Last Updated:** 2025-07-20

### CommandItem({ className, ...props }: CommandItemProps): JSX.Element
**Purpose:** An individual selectable item within the Command list.
**Location:** apps/web/src/components/ui/command.tsx
**Dependencies:** [`CommandPrimitive.Item`](cmdk:Command.Item).
**Last Updated:** 2025-07-20

### CommandShortcut({ className, ...props }: React.HTMLAttributes<HTMLSpanElement>): JSX.Element
**Purpose:** Displays a keyboard shortcut hint next to a Command item.
**Location:** apps/web/src/components/ui/command.tsx
**Dependencies:** None explicit.
**Last Updated:** 2025-07-20

### CustomScrollArea({ className, children, ...props }: CustomScrollAreaProps, ref: React.Ref<HTMLDivElement>): JSX.Element
**Purpose:** A custom scrollable area component.
**Location:** apps/web/src/components/ui/custom-scroll-area.tsx
**Dependencies:** [`forwardRef`](react:forwardRef()), [`ScrollArea`](@/components/ui/scroll-area).
**Last Updated:** 2025-07-20

### Dialog({ ...props }: DialogProps): JSX.Element
**Purpose:** A modal dialog component.
**Location:** apps/web/src/components/ui/dialog.tsx
**Dependencies:** [`DialogPrimitive.Root`](@radix-ui/react-dialog:Root).
**Last Updated:** 2025-07-20

### DialogTrigger({ ...props }: DialogTriggerProps): JSX.Element
**Purpose:** The button that opens a Dialog.
**Location:** apps/web/src/components/ui/dialog.tsx
**Dependencies:** [`DialogPrimitive.Trigger`](@radix-ui/react-dialog:Trigger).
**Last Updated:** 2025-07-20

### DialogPortal({ ...props }: DialogPortalProps): JSX.Element
**Purpose:** A portal for rendering Dialog content outside the normal DOM hierarchy.
**Location:** apps/web/src/components/ui/dialog.tsx
**Dependencies:** [`DialogPrimitive.Portal`](@radix-ui/react-dialog:Portal).
**Last Updated:** 2025-07-20

### DialogClose({ ...props }: DialogCloseProps): JSX.Element
**Purpose:** A button that closes a Dialog.
**Location:** apps/web/src/components/ui/dialog.tsx
**Dependencies:** [`DialogPrimitive.Close`](@radix-ui/react-dialog:Close).
**Last Updated:** 2025-07-20

### DialogOverlay({ className, ...props }: DialogOverlayProps): JSX.Element
**Purpose:** The overlay that appears behind a Dialog, dimming the rest of the page.
**Location:** apps/web/src/components/ui/dialog.tsx
**Dependencies:** [`DialogPrimitive.Overlay`](@radix-ui/react-dialog:Overlay).
**Last Updated:** 2025-07-20

### DialogContent({ className, children, showCloseButton, ...props }: DialogContentProps): JSX.Element
**Purpose:** The main content area of a Dialog.
**Location:** apps/web/src/components/ui/dialog.tsx
**Dependencies:** [`DialogPortal`](@/components/ui/dialog), [`DialogPrimitive.Content`](@radix-ui/react-dialog:Content), [`DialogPrimitive.Close`](@radix-ui/react-dialog:Close).
**Last Updated:** 2025-07-20

### DialogHeader({ className, ...props }: React.ComponentProps<"div">): JSX.Element
**Purpose:** The header section of a Dialog, typically containing a title and description.
**Location:** apps/web/src/components/ui/dialog.tsx
**Dependencies:** None explicit.
**Last Updated:** 2025-07-20

### DialogFooter({ className, ...props }: React.ComponentProps<"div">): JSX.Element
**Purpose:** The footer section of a Dialog, typically containing action buttons.
**Location:** apps/web/src/components/ui/dialog.tsx
**Dependencies:** None explicit.
**Last Updated:** 2025-07-20

### DialogTitle({ className, ...props }: DialogTitleProps): JSX.Element
**Purpose:** The title of a Dialog.
**Location:** apps/web/src/components/ui/dialog.tsx
**Dependencies:** [`DialogPrimitive.Title`](@radix-ui/react-dialog:Title).
**Last Updated:** 2025-07-20

### DialogDescription({ className, ...props }: DialogDescriptionProps): JSX.Element
**Purpose:** The descriptive text of a Dialog.
**Location:** apps/web/src/components/ui/dialog.tsx
**Dependencies:** [`DialogPrimitive.Description`](@radix-ui/react-dialog:Description).
**Last Updated:** 2025-07-20

### DropdownMenu({ ...props }: DropdownMenuProps): JSX.Element
**Purpose:** A menu that appears when a user interacts with a trigger.
**Location:** apps/web/src/components/ui/dropdown-menu.tsx
**Dependencies:** [`DropdownMenuPrimitive.Root`](@radix-ui/react-dropdown-menu:Root).
**Last Updated:** 2025-07-20

### DropdownMenuPortal({ ...props }: DropdownMenuPortalProps): JSX.Element
**Purpose:** A portal for rendering DropdownMenu content outside the normal DOM hierarchy.
**Location:** apps/web/src/components/ui/dropdown-menu.tsx
**Dependencies:** [`DropdownMenuPrimitive.Portal`](@radix-ui/react-dropdown-menu:Portal).
**Last Updated:** 2025-07-20

### DropdownMenuTrigger({ ...props }: DropdownMenuTriggerProps): JSX.Element
**Purpose:** The element that triggers the opening of a DropdownMenu.
**Location:** apps/web/src/components/ui/dropdown-menu.tsx
**Dependencies:** [`DropdownMenuPrimitive.Trigger`](@radix-ui/react-dropdown-menu:Trigger).
**Last Updated:** 2025-07-20

### DropdownMenuContent({ className, sideOffset, ...props }: DropdownMenuContentProps): JSX.Element
**Purpose:** The main content area of a DropdownMenu.
**Location:** apps/web/src/components/ui/dropdown-menu.tsx
**Dependencies:** [`DropdownMenuPrimitive.Portal`](@radix-ui/react-dropdown-menu:Portal), [`DropdownMenuPrimitive.Content`](@radix-ui/react-dropdown-menu:Content).
**Last Updated:** 2025-07-20

### DropdownMenuGroup({ className, ...props }: React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Group>): JSX.Element
**Purpose:** A logical grouping of items within a DropdownMenu.
**Location:** apps/web/src/components/ui/dropdown-menu.tsx
**Dependencies:** None explicit.
**Last Updated:** 2025-07-20

### DropdownMenuItem({ className, inset, ...props }: DropdownMenuItemProps): JSX.Element
**Purpose:** An individual selectable item within a DropdownMenu.
**Location:** apps/web/src/components/ui/dropdown-menu.tsx
**Dependencies:** [`DropdownMenuPrimitive.Item`](@radix-ui/react-dropdown-menu:Item).
**Last Updated:** 2025-07-20

### DropdownMenuCheckboxItem({ className, checked, ...props }: DropdownMenuCheckboxItemProps): JSX.Element
**Purpose:** A checkbox item within a DropdownMenu.
**Location:** apps/web/src/components/ui/dropdown-menu.tsx
**Dependencies:** [`DropdownMenuPrimitive.CheckboxItem`](@radix-ui/react-dropdown-menu:CheckboxItem).
**Last Updated:** 2025-07-20

### DropdownMenuRadioGroup({ ...props }: DropdownMenuRadioGroupProps): JSX.Element
**Purpose:** A group of radio items within a DropdownMenu.
**Location:** apps/web/src/components/ui/dropdown-menu.tsx
**Dependencies:** [`DropdownMenuPrimitive.RadioGroup`](@radix-ui/react-dropdown-menu:RadioGroup).
**Last Updated:** 2025-07-20

### DropdownMenuRadioItem({ className, ...props }: DropdownMenuRadioItemProps): JSX.Element
**Purpose:** A radio button item within a DropdownMenu.
**Location:** apps/web/src/components/ui/dropdown-menu.tsx
**Dependencies:** [`DropdownMenuPrimitive.RadioItem`](@radix-ui/react-dropdown-menu:RadioItem).
**Last Updated:** 2025-07-20

### DropdownMenuLabel({ className, inset, ...props }: DropdownMenuLabelProps): JSX.Element
**Purpose:** A non-interactive label within a DropdownMenu.
**Location:** apps/web/src/components/ui/dropdown-menu.tsx
**Dependencies:** [`DropdownMenuPrimitive.Label`](@radix-ui/react-dropdown-menu:Label).
**Last Updated:** 2025-07-20

### DropdownMenuSeparator({ className, ...props }: DropdownMenuSeparatorProps): JSX.Element
**Purpose:** A visual separator within a DropdownMenu.
**Location:** apps/web/src/components/ui/dropdown-menu.tsx
**Dependencies:** [`DropdownMenuPrimitive.Separator`](@radix-ui/react-dropdown-menu:Separator).
**Last Updated:** 2025-07-20

### DropdownMenuShortcut({ className, ...props }: React.HTMLAttributes<HTMLSpanElement>): JSX.Element
**Purpose:** Displays a keyboard shortcut hint next to a DropdownMenu item.
**Location:** apps/web/src/components/ui/dropdown-menu.tsx
**Dependencies:** None explicit.
**Last Updated:** 2025-07-20

### DropdownMenuSub({ ...props }: DropdownMenuSubProps): JSX.Element
**Purpose:** A sub-menu within a DropdownMenu.
**Location:** apps/web/src/components/ui/dropdown-menu.tsx
**Dependencies:** [`DropdownMenuPrimitive.Sub`](@radix-ui/react-dropdown-menu:Sub).
**Last Updated:** 2025-07-20

### DropdownMenuSubTrigger({ className, inset, children, ...props }: DropdownMenuSubTriggerProps): JSX.Element
**Purpose:** The trigger for a DropdownMenuSub.
**Location:** apps/web/src/components/ui/dropdown-menu.tsx
**Dependencies:** [`DropdownMenuPrimitive.SubTrigger`](@radix-ui/react-dropdown-menu:SubTrigger).
**Last Updated:** 2025-07-20

### DropdownMenuSubContent({ className, ...props }: DropdownMenuSubContentProps): JSX.Element
**Purpose:** The content area of a DropdownMenuSub.
**Location:** apps/web/src/components/ui/dropdown-menu.tsx
**Dependencies:** [`DropdownMenuPrimitive.SubContent`](@radix-ui/react-dropdown-menu:SubContent).
**Last Updated:** 2025-07-20

### Input({ className, type, ...props }: InputProps): JSX.Element
**Purpose:** A customizable input field.
**Location:** apps/web/src/components/ui/input.tsx
**Dependencies:** None explicit.
**Last Updated:** 2025-07-20

### Label({ className, ...props }: LabelProps): JSX.Element
**Purpose:** A label component for form elements.
**Location:** apps/web/src/components/ui/label.tsx
**Dependencies:** [`LabelPrimitive.Root`](@radix-ui/react-label:Root).
**Last Updated:** 2025-07-20

### NavigationMenu({ className, children, ...props }: NavigationMenuProps): JSX.Element
**Purpose:** A navigation menu component.
**Location:** apps/web/src/components/ui/navigation-menu.tsx
**Dependencies:** [`NavigationMenuPrimitive.Root`](@radix-ui/react-navigation-menu:Root).
**Last Updated:** 2025-07-20

### NavigationMenuList({ className, ...props }: React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.List>): JSX.Element
**Purpose:** The list container for NavigationMenu items.
**Location:** apps/web/src/components/ui/navigation-menu.tsx
**Dependencies:** None explicit.
**Last Updated:** 2025-07-20

### NavigationMenuItem({ className, ...props }: React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.Item>): JSX.Element
**Purpose:** An individual item within a NavigationMenu.
**Location:** apps/web/src/components/ui/navigation-menu.tsx
**Dependencies:** None explicit.
**Last Updated:** 2025-07-20

### NavigationMenuTrigger({ className, children, ...props }: NavigationMenuTriggerProps): JSX.Element
**Purpose:** The trigger for a NavigationMenu item, typically a button or link.
**Location:** apps/web/src/components/ui/navigation-menu.tsx
**Dependencies:** [`NavigationMenuPrimitive.Trigger`](@radix-ui/react-navigation-menu:Trigger).
**Last Updated:** 2025-07-20

### NavigationMenuContent({ className, ...props }: NavigationMenuContentProps): JSX.Element
**Purpose:** The content area of a NavigationMenu item, often a dropdown or mega-menu.
**Location:** apps/web/src/components/ui/navigation-menu.tsx
**Dependencies:** [`NavigationMenuPrimitive.Content`](@radix-ui/react-navigation-menu:Content).
**Last Updated:** 2025-07-20

### NavigationMenuViewport({ className, ...props }: NavigationMenuViewportProps): JSX.Element
**Purpose:** The viewport for NavigationMenu content, handling positioning and animations.
**Location:** apps/web/src/components/ui/navigation-menu.tsx
**Dependencies:** [`NavigationMenuPrimitive.Viewport`](@radix-ui/react-navigation-menu:Viewport).
**Last Updated:** 2025-07-20

### NavigationMenuLink({ className, ...props }: NavigationMenuLinkProps): JSX.Element
**Purpose:** A link component specifically for use within a NavigationMenu.
**Location:** apps/web/src/components/ui/navigation-menu.ts
**Dependencies:** [`NavigationMenuPrimitive.Link`](@radix-ui/react-navigation-menu:Link).
**Last Updated:** 2025-07-20

### NavigationMenuIndicator({ className, ...props }: NavigationMenuIndicatorProps): JSX.Element
**Purpose:** A visual indicator for the currently active item in a NavigationMenu.
**Location:** apps/web/src/components/ui/navigation-menu.tsx
**Dependencies:** [`NavigationMenuPrimitive.Indicator`](@radix-ui/react-navigation-menu:Indicator).
**Last Updated:** 2025-07-20

### Popover({ ...props }: PopoverProps): JSX.Element
**Purpose:** A small overlay that appears on top of other content.
**Location:** apps/web/src/components/ui/popover.tsx
**Dependencies:** [`PopoverPrimitive.Root`](@radix-ui/react-popover:Root).
**Last Updated:** 2025-07-20

### PopoverTrigger({ ...props }: PopoverTriggerProps): JSX.Element
**Purpose:** The element that triggers the opening of a Popover.
**Location:** apps/web/src/components/ui/popover.tsx
**Dependencies:** [`PopoverPrimitive.Trigger`](@radix-ui/react-popover:Trigger).
**Last Updated:** 2025-07-20

### PopoverContent({ className, align, sideOffset, ...props }: PopoverContentProps): JSX.Element
**Purpose:** The content area of a Popover.
**Location:** apps/web/src/components/ui/popover.tsx
**Dependencies:** [`PopoverPrimitive.Portal`](@radix-ui/react-popover:Portal), [`PopoverPrimitive.Content`](@radix-ui/react-popover:Content).
**Last Updated:** 2025-07-20

### PopoverAnchor({ ...props }: PopoverAnchorProps): JSX.Element
**Purpose:** An optional anchor element for positioning a Popover.
**Location:** apps/web/src/components/ui/popover.tsx
**Dependencies:** [`PopoverPrimitive.Anchor`](@radix-ui/react-popover:Anchor).
**Last Updated:** 2025-07-20

### ScrollArea({ className, children, ...props }: ScrollAreaProps): JSX.Element
**Purpose:** A scrollable area component.
**Location:** apps/web/src/components/ui/scroll-area.tsx
**Dependencies:** [`ScrollAreaPrimitive.Root`](@radix-ui/react-scroll-area:Root), [`ScrollAreaPrimitive.Viewport`](@radix-ui/react-scroll-area:Viewport).
**Last Updated:** 2025-07-20

### ScrollBar({ className, orientation, ...props }: ScrollBarProps): JSX.Element
**Purpose:** A scrollbar component for use with ScrollArea.
**Location:** apps/web/src/components/ui/scroll-area.tsx
**Dependencies:** [`ScrollAreaPrimitive.ScrollAreaScrollbar`](@radix-ui/react-scroll-area:ScrollAreaScrollbar), [`ScrollAreaPrimitive.ScrollAreaThumb`](@radix-ui/react-scroll-area:ScrollAreaThumb).
**Last Updated:** 2025-07-20

### Select({ ...props }: SelectProps): JSX.Element
**Purpose:** A custom select / dropdown component.
**Location:** apps/web/src/components/ui/select.tsx
**Dependencies:** [`SelectPrimitive.Root`](@radix-ui/react-select:Root).
**Last Updated:** 2025-07-20

### SelectGroup({ ...props }: SelectGroupProps): JSX.Element
**Purpose:** A group of selectable items within a Select.
**Location:** apps/web/src/components/ui/select.tsx
**Dependencies:** [`SelectPrimitive.Group`](@radix-ui/react-select:Group).
**Last Updated:** 2025-07-20

### SelectValue({ ...props }: SelectValueProps): JSX.Element
**Purpose:** Displays the currently selected value in a Select.
**Location:** apps/web/src/components/ui/select.tsx
**Dependencies:** [`SelectPrimitive.Value`](@radix-ui/react-select:Value).
**Last Updated:** 2025-07-20

### SelectTrigger({ className, children, ...props }: SelectTriggerProps): JSX.Element
**Purpose:** The trigger button for a Select dropdown.
**Location:** apps/web/src/components/ui/select.tsx
**Dependencies:** [`SelectPrimitive.Trigger`](@radix-ui/react-select:Trigger).
**Last Updated:** 2025-07-20

### SelectContent({ className, children, position, ...props }: SelectContentProps): JSX.Element
**Purpose:** The content area of a Select dropdown.
**Location:** apps/web/src/components/ui/select.tsx
**Dependencies:** [`SelectPrimitive.Portal`](@radix-ui/react-select:Portal), [`SelectPrimitive.Content`](@radix-ui/react-select:Content), [`SelectPrimitive.Viewport`](@radix-ui/react-select:Viewport).
**Last Updated:** 2025-07-20

### SelectLabel({ className, ...props }: SelectLabelProps): JSX.Element
**Purpose:** A non-interactive label within a Select dropdown.
**Location:** apps/web/src/components/ui/select.tsx
**Dependencies:** [`SelectPrimitive.Label`](@radix-ui/react-select:Label).
**Last Updated:** 2025-07-20

### SelectItem({ className, children, ...props }: SelectItemProps): JSX.Element
**Purpose:** An individual selectable item within a Select dropdown.
**Location:** apps/web/src/components/ui/select.tsx
**Dependencies:** [`SelectPrimitive.Item`](@radix-ui/react-select:Item).
**Last Updated:** 2025-07-20

### SelectSeparator({ className, ...props }: SelectSeparatorProps): JSX.Element
**Purpose:** A visual separator within a Select dropdown.
**Location:** apps/web/src/components/ui/select.tsx
**Dependencies:** [`SelectPrimitive.Separator`](@radix-ui/react-select:Separator).
**Last Updated:** 2025-07-20

### SelectScrollUpButton({ className, ...props }: SelectScrollUpButtonProps): JSX.Element
**Purpose:** A button to scroll up within a Select dropdown.
**Location:** apps/web/src/components/ui/select.tsx
**Dependencies:** [`SelectPrimitive.ScrollUpButton`](@radix-ui/react-select:ScrollUpButton).
**Last Updated:** 2025-07-20

### SelectScrollDownButton({ className, ...props }: SelectScrollDownButtonProps): JSX.Element
**Purpose:** A button to scroll down within a Select dropdown.
**Location:** apps/web/src/components/ui/select.tsx
**Dependencies:** [`SelectPrimitive.ScrollDownButton`](@radix-ui/react-select:ScrollDownButton).
**Last Updated:** 2025-07-20

### Separator({ className, orientation, decorative, ...props }: SeparatorProps): JSX.Element
**Purpose:** A horizontal or vertical visual separator.
**Location:** apps/web/src/components/ui/separator.tsx
**Dependencies:** [`SeparatorPrimitive.Root`](@radix-ui/react-separator:Root).
**Last Updated:** 2025-07-20

### Sheet({ ...props }: SheetProps): JSX.Element
**Purpose:** A side panel that slides in from the edge of the screen.
**Location:** apps/web/src/components/ui/sheet.ts
**Dependencies:** [`SheetPrimitive.Root`](@radix-ui/react-dialog:Root).
**Last Updated:** 2025-07-20

### SheetTrigger({ ...props }: SheetTriggerProps): JSX.Element
**Purpose:** The element that triggers the opening of a Sheet.
**Location:** apps/web/src/components/ui/sheet.tsx
**Dependencies:** [`SheetPrimitive.Trigger`](@radix-ui/react-dialog:Trigger).
**Last Updated:** 2025-07-20

### SheetClose({ ...props }: SheetCloseProps): JSX.Element
**Purpose:** A button that closes a Sheet.
**Location:** apps/web/src/components/ui/sheet.tsx
**Dependencies:** [`SheetPrimitive.Close`](@radix-ui/react-dialog:Close).
**Last Updated:** 2025-07-20

### SheetPortal({ ...props }: SheetPortalProps): JSX.Element
**Purpose:** A portal for rendering Sheet content outside the normal DOM hierarchy.
**Location:** apps/web/src/components/ui/sheet.tsx
**Dependencies:** [`SheetPrimitive.Portal`](@radix-ui/react-dialog:Portal).
**Last Updated:** 2025-07-20

### SheetOverlay({ className, ...props }: SheetOverlayProps): JSX.Element
**Purpose:** The overlay that appears behind a Sheet, dimming the rest of the page.
**Location:** apps/web/src/components/ui/sheet.tsx
**Dependencies:** [`SheetPrimitive.Overlay`](@radix-ui/react-dialog:Overlay).
**Last Updated:** 2025-07-20

### SheetContent({ className, children, side, ...props }: SheetContentProps): JSX.Element
**Purpose:** The main content area of a Sheet.
**Location:** apps/web/src/components/ui/sheet.tsx
**Dependencies:** [`SheetPortal`](@/components/ui/sheet), [`SheetPrimitive.Content`](@radix-ui/react-dialog:Content), [`SheetPrimitive.Close`](@radix-ui/react-dialog:Close).
**Last Updated:** 2025-07-20

### SheetHeader({ className, ...props }: React.ComponentProps<"div">): JSX.Element
**Purpose:** The header section of a Sheet, typically containing a title and description.
**Location:** apps/web/src/components/ui/sheet.tsx
**Dependencies:** None explicit.
**Last Updated:** 2025-07-20

### SheetFooter({ className, ...props }: React.ComponentProps<"div">): JSX.Element
**Purpose:** The footer section of a Sheet, typically containing action buttons.
**Location:** apps/web/src/components/ui/sheet.tsx
**Dependencies:** None explicit.
**Last Updated:** 2025-07-20

### SheetTitle({ className, ...props }: SheetTitleProps): JSX.Element
**Purpose:** The title of a Sheet.
**Location:** apps/web/src/components/ui/sheet.tsx
**Dependencies:** [`SheetPrimitive.Title`](@radix-ui/react-dialog:Title).
**Last Updated:** 2025-07-20

### SheetDescription({ className, ...props }: SheetDescriptionProps): JSX.Element
**Purpose:** The descriptive text of a Sheet.
**Location:** apps/web/src/components/ui/sheet.tsx
**Dependencies:** [`SheetPrimitive.Description`](@radix-ui/react-dialog:Description).
**Last Updated:** 2025-07-20

### useSidebar(): SidebarContextProps
**Purpose:** A hook to access the sidebar context.
**Location:** apps/web/src/components/ui/sidebar.tsx
**Dependencies:** None explicit.
**Last Updated:** 2025-07-20

### SidebarProvider({ children }: { children: React.ReactNode }): JSX.Element
**Purpose:** Provides the sidebar context to its children.
**Location:** apps/web/src/components/ui/sidebar.tsx
**Dependencies:** [`useState`](react:useState()), [`useCallback`](react:useCallback()), [`useEffect`](react:useEffect()), [`useMemo`](react:useMemo()), [`TooltipProvider`](@/components/ui/tooltip).
**Last Updated:** 2025-07-20

### Sidebar({ className, children, ...props }: SidebarProps): JSX.Element
**Purpose:** The main sidebar container component.
**Location:** apps/web/src/components/ui/sidebar.tsx
**Dependencies:** [`Sheet`](@/components/ui/sheet), [`SheetContent`](@/components/ui/sheet), [`SheetHeader`](@/components/ui/sheet), [`useSidebar`](@/components/ui/sidebar).
**Last Updated:** 2025-07-20

### SidebarTrigger({ className, children, ...props }: SidebarTriggerProps): JSX.Element
**Purpose:** A button that triggers the opening of the sidebar.
**Location:** apps/web/src/components/ui/sidebar.tsx
**Dependencies:** [`Button`](@/components/ui/button), [`useSidebar`](@/components/ui/sidebar).
**Last Updated:** 2025-07-20

### SidebarRail({ className, ...props }: React.ComponentProps<"button">): JSX.Element
**Purpose:** A rail for sidebar navigation.
**Location:** apps/web/src/components/ui/sidebar.tsx
**Dependencies:** None explicit.
**Last Updated:** 2025-07-20

### SidebarInset({ className, ...props }: React.ComponentProps<"main">): JSX.Element
**Purpose:** An inset area within the sidebar.
**Location:** apps/web/src/components/ui/sidebar.tsx
**Dependencies:** None explicit.
**Last Updated:** 2025-07-20

### SidebarInput({ className, ...props }: SidebarInputProps): JSX.Element
**Purpose:** An input field for the sidebar.
**Location:** apps/web/src/components/ui/sidebar.tsx
**Dependencies:** [`Input`](@/components/ui/input).
**Last Updated:** 2025-07-20

### SidebarHeader({ className, ...props }: React.ComponentProps<"div">): JSX.Element
**Purpose:** The header section of the sidebar.
**Location:** apps/web/src/components/ui/sidebar.tsx
**Dependencies:** None explicit.
**Last Updated:** 2025-07-20

### SidebarFooter({ className, ...props }: React.ComponentProps<"div">): JSX.Element
**Purpose:** The footer section of the sidebar.
**Location:** apps/web/src/components/ui/sidebar.tsx
**Dependencies:** None explicit.
**Last Updated:** 2025-07-20

### SidebarSeparator({ className, ...props }: SidebarSeparatorProps): JSX.Element
**Purpose:** A separator for sidebar content.
**Location:** apps/web/src/components/ui/sidebar.tsx
**Dependencies:** [`Separator`](@/components/ui/separator).
**Last Updated:** 2025-07-20

### SidebarContent({ className, ...props }: React.ComponentProps<"div">): JSX.Element
**Purpose:** The main content area of the sidebar.
**Location:** apps/web/src/components/ui/sidebar.tsx
**Dependencies:** None explicit.
**Last Updated:** 2025-07-20

### SidebarGroup({ className, ...props }: React.ComponentProps<"div">): JSX.Element
**Purpose:** A group of items within the sidebar.
**Location:** apps/web/src/components/ui/sidebar.tsx
**Dependencies:** None explicit.
**Last Updated:** 2025-07-20

### SidebarGroupLabel({ className, ...props }: SidebarGroupLabelProps): JSX.Element
**Purpose:** A label for a sidebar group.
**Location:** apps/web/src/components/ui/sidebar.tsx
**Dependencies:** None explicit.
**Last Updated:** 2025-07-20

### SidebarGroupAction({ className, ...props }: SidebarGroupActionProps): JSX.Element
**Purpose:** An action button for a sidebar group.
**Location:** apps/web/src/components/ui/sidebar.tsx
**Dependencies:** None explicit.
**Last Updated:** 2025-07-20

### SidebarGroupContent({ className, ...props }: React.ComponentProps<"div">): JSX.Element
**Purpose:** The content area of a sidebar group.
**Location:** apps/web/src/components/ui/sidebar.tsx
**Dependencies:** None explicit.
**Last Updated:** 2025-07-20

### SidebarMenu({ className, ...props }: React.ComponentProps<"ul">): JSX.Element
**Purpose:** A menu list within the sidebar.
**Location:** apps/web/src/components/ui/sidebar.tsx
**Dependencies:** None explicit.
**Last Updated:** 2025-07-20

### SidebarMenuItem({ className, ...props }: React.ComponentProps<"li">): JSX.Element
**Purpose:** An individual item within a sidebar menu.
**Location:** apps/web/src/components/ui/sidebar.tsx
**Dependencies:** None explicit.
**Last Updated:** 2025-07-20

### SidebarMenuButton({ className, children, icon, ...props }: SidebarMenuButtonProps): JSX.Element
**Purpose:** A button for a sidebar menu item, with optional icon and tooltip.
**Location:** apps/web/src/components/ui/sidebar.tsx
**Dependencies:** [`Tooltip`](@/components/ui/tooltip), [`TooltipContent`](@/components/ui/tooltip), [`TooltipTrigger`](@/components/ui/tooltip).
**Last Updated:** 2025-07-20

### SidebarMenuAction({ className, children, icon, ...props }: SidebarMenuActionProps): JSX.Element
**Purpose:** An action button for a sidebar menu item.
**Location:** apps/web/src/components/ui/sidebar.tsx
**Dependencies:** None explicit.
**Last Updated:** 2025-07-20

### SidebarMenuBadge({ className, ...props }: React.ComponentProps<"div">): JSX.Element
**Purpose:** A badge component for sidebar menu items.
**Location:** apps/web/src/components/ui/sidebar.tsx
**Dependencies:** None explicit.
**Last Updated:** 2025-07-20

### SidebarMenuSkeleton({ className, showIcon, ...props }: SidebarMenuSkeletonProps): JSX.Element
**Purpose:** A skeleton loader for sidebar menu items.
**Location:** apps/web/src/components/ui/sidebar.tsx
**Dependencies:** [`Skeleton`](@/components/ui/skeleton).
**Last Updated:** 2025-07-20

### SidebarMenuSub({ className, ...props }: React.ComponentProps<"ul">): JSX.Element
**Purpose:** A sub-menu list within the sidebar.
**Location:** apps/web/src/components/ui/sidebar.tsx
**Dependencies:** None explicit.
**Last Updated:** 2025-07-20

### SidebarMenuSubItem({ className, ...props }: React.ComponentProps<"li">): JSX.Element
**Purpose:** An individual item within a sidebar sub-menu.
**Location:** apps/web/src/components/ui/sidebar.tsx
**Dependencies:** None explicit.
**Last Updated:** 2025-07-20

### SidebarMenuSubButton({ className, children, icon, ...props }: SidebarMenuSubButtonProps): JSX.Element
**Purpose:** A button for a sidebar sub-menu item.
**Location:** apps/web/src/components/ui/sidebar.tsx
**Dependencies:** None explicit.
**Last Updated:** 2025-07-20

### Skeleton({ className, ...props }: SkeletonProps): JSX.Element
**Purpose:** A skeleton loading component.
**Location:** apps/web/src/components/ui/skeleton.tsx
**Dependencies:** None explicit.
**Last Updated:** 2025-07-20

### Slider({ className, value, onValueChange, ...props }: SliderProps): JSX.Element
**Purpose:** A slider component for selecting a value from a range.
**Location:** apps/web/src/components/ui/slider.tsx
**Dependencies:** [`SliderPrimitive.Root`](@radix-ui/react-slider:Root), [`SliderPrimitive.Track`](@radix-ui/react-slider:Track), [`SliderPrimitive.Range`](@radix-ui/react-slider:Range), [`SliderPrimitive.Thumb`](@radix-ui/react-slider:Thumb).
**Last Updated:** 2025-07-20

### Toaster({ ...props }: ToasterProps): JSX.Element
**Purpose:** A component for displaying toast notifications.
**Location:** apps/web/src/components/ui/sonner.tsx
**Dependencies:** [`Sonner`](sonner:Toaster).
**Last Updated:** 2025-07-20

### Switch({ className, ...props }: SwitchProps): JSX.Element
**Purpose:** A switch component for toggling a boolean state.
**Location:** apps/web/src/components/ui/switch.tsx
**Dependencies:** [`SwitchPrimitive.Root`](@radix-ui/react-switch:Root), [`SwitchPrimitive.Thumb`](@radix-ui/react-switch:Thumb).
**Last Updated:** 2025-07-20

### Table({ className, ...props }: React.ComponentProps<"table">): JSX.Element
**Purpose:** A table component for displaying tabular data.
**Location:** apps/web/src/components/ui/table.tsx
**Dependencies:** None explicit.
**Last Updated:** 2025-07-20

### TableHeader({ className, ...props }: React.ComponentProps<"thead">): JSX.Element
**Purpose:** The header section of a Table.
**Location:** apps/web/src/components/ui/table.tsx
**Dependencies:** None explicit.
**Last Updated:** 2025-07-20

### TableBody({ className, ...props }: React.ComponentProps<"tbody">): JSX.Element
**Purpose:** The body section of a Table.
**Location:** apps/web/src/components/ui/table.tsx
**Dependencies:** None explicit.
**Last Updated:** 2025-07-20

### TableFooter({ className, ...props }: React.ComponentProps<"tfoot">): JSX.Element
**Purpose:** The footer section of a Table.
**Location:** apps/web/src/components/ui/table.tsx
**Dependencies:** None explicit.
**Last Updated:** 2025-07-20

### TableRow({ className, ...props }: React.ComponentProps<"tr">): JSX.Element
**Purpose:** A row within a Table.
**Location:** apps/web/src/components/ui/table.tsx
**Dependencies:** None explicit.
**Last Updated:** 2025-07-20

### TableHead({ className, ...props }: React.ComponentProps<"th">): JSX.Element
**Purpose:** A header cell within a TableRow.
**Location:** apps/web/src/components/ui/table.tsx
**Dependencies:** None explicit.
**Last Updated:** 2025-07-20

### TableCell({ className, ...props }: React.ComponentProps<"td">): JSX.Element
**Purpose:** A data cell within a TableRow.
**Location:** apps/web/src/components/ui/table.tsx
**Dependencies:** None explicit.
**Last Updated:** 2025-07-20

### TableCaption({ className, ...props }: React.ComponentProps<"caption">): JSX.Element
**Purpose:** A caption for a Table.
**Location:** apps/web/src/components/ui/table.tsx
**Dependencies:** None explicit.
**Last Updated:** 2025-07-20

### Tabs({ className, ...props }: TabsProps): JSX.Element
**Purpose:** A tabbed interface component.
**Location:** apps/web/src/components/ui/tabs.tsx
**Dependencies:** [`TabsPrimitive.Root`](@radix-ui/react-tabs:Root).
**Last Updated:** 2025-07-20

### TabsList({ className, ...props }: TabsListProps): JSX.Element
**Purpose:** The list of tab triggers within a Tabs component.
**Location:** apps/web/src/components/ui/tabs.tsx
**Dependencies:** [`TabsPrimitive.List`](@radix-ui/react-tabs:List).
**Last Updated:** 2025-07-20

### TabsTrigger({ className, ...props }: TabsTriggerProps): JSX.Element
**Purpose:** An individual tab trigger button.
**Location:** apps/web/src/components/ui/tabs.tsx
**Dependencies:** [`TabsPrimitive.Trigger`](@radix-ui/react-tabs:Trigger).
**Last Updated:** 2025-07-20

### TabsContent({ className, ...props }: TabsContentProps): JSX.Element
**Purpose:** The content panel associated with a tab.
**Location:** apps/web/src/components/ui/tabs.tsx
**Dependencies:** [`TabsPrimitive.Content`](@radix-ui/react-tabs:Content).
**Last Updated:** 2025-07-20

### Textarea({ className, ...props }: TextareaProps): JSX.Element
**Purpose:** A multi-line text input component.
**Location:** apps/web/src/components/ui/textarea.tsx
**Dependencies:** None explicit.
**Last Updated:** 2025-07-20

### TooltipProvider({ children, ...props }: TooltipProviderProps): JSX.Element
**Purpose:** Provides context for tooltip components.
**Location:** apps/web/src/components/ui/tooltip.tsx
**Dependencies:** [`TooltipPrimitive.Provider`](@radix-ui/react-tooltip:Provider).
**Last Updated:** 2025-07-20

### Tooltip({ ...props }: TooltipProps): JSX.Element
**Purpose:** A small pop-up that displays information when a user hovers over an element.
**Location:** apps/web/src/components/ui/tooltip.tsx
**Dependencies:** [`TooltipPrimitive.Root`](@radix-ui/react-tooltip:Root).
**Last Updated:** 2025-07-20

### TooltipTrigger({ ...props }: TooltipTriggerProps): JSX.Element
**Purpose:** The element that triggers the display of a Tooltip.
**Location:** apps/web/src/components/ui/tooltip.tsx
**Dependencies:** [`TooltipPrimitive.Trigger`](@radix-ui/react-tooltip:Trigger).
**Last Updated:** 2025-07-20

### TooltipContent({ className, sideOffset, ...props }: TooltipContentProps): JSX.Element
**Purpose:** The content area of a Tooltip.
**Location:** apps/web/src/components/ui/tooltip.tsx
**Dependencies:** [`TooltipPrimitive.Portal`](@radix-ui/react-tooltip:Portal), [`TooltipPrimitive.Content`](@radix-ui/react-tooltip:Content).
**Last Updated:** 2025-07-20

### Hooks
### fetcher(url: string): Promise<any>
**Purpose:** A generic fetcher function for SWR hooks, handling JSON responses.
**Location:** apps/web/src/hooks/use-auth.ts
**Dependencies:** None explicit.
**Last Updated:** 2025-07-20

### useAuth(): { user: User | undefined; isLoading: boolean; error: any; invalidate: () => void; signOut: () => Promise<void>; }
**Purpose:** A hook for managing user authentication status, providing user data, loading state, and sign-out functionality.
**Location:** apps/web/src/hooks/use-auth.ts
**Dependencies:** [`useSWR`](swr:useSWR), [`fetcher`](apps/web/src/hooks/use-auth.ts:fetcher), [`useRouter`](next/navigation).
**Last Updated:** 2025-07-20

### useMobile(): boolean
**Purpose:** A hook to detect if the current viewport is considered mobile size.
**Location:** apps/web/src/hooks/use-mobile.ts
**Dependencies:** [`useState`](react:useState()), [`useEffect`](react:useEffect()).
**Last Updated:** 2025-07-20

### useAiSettings({ pageId, conversationId, context }: UseAiSettingsProps): UseAiSettingsResult
**Purpose:** A hook for managing AI settings, including available models, current model, and API key configuration.
**Location:** apps/web/src/hooks/useAiSettings.ts
**Dependencies:** [`useState`](react:useState()), [`useCallback`](react:useCallback()), [`useSWR`](swr:useSWR), [`fetcher`](apps/web/src/hooks/useAiSettings.ts:fetcher).
**Last Updated:** 2025-07-20

### updateModel(model: string): Promise<void>
**Purpose:** Updates the selected AI model for the current context (page or conversation).
**Location:** apps/web/src/hooks/useAiSettings.ts
**Dependencies:** None explicit.
**Last Updated:** 2025-07-20

### updateProvider(provider: string, apiKey?: string): Promise<void>
**Purpose:** Updates the API key for a specific AI provider.
**Location:** apps/web/src/hooks/useAiSettings.ts
**Dependencies:** None explicit.
**Last Updated:** 2025-07-20

### deleteProvider(provider: string): Promise<void>
**Purpose:** Deletes the API key for a specific AI provider.
**Location:** apps/web/src/hooks/useAiSettings.ts
**Dependencies:** None explicit.
**Last Updated:** 2025-07-20

### useBreadcrumbs(pageId: string | null): BreadcrumbItem[]
**Purpose:** A hook to fetch and manage breadcrumbs for a given page.
**Location:** apps/web/src/hooks/useBreadcrumbs.ts
**Dependencies:** [`useSWR`](swr:useSWR), [`fetcher`](apps/web/src/hooks/use-auth.ts:fetcher).
**Last Updated:** 2025-07-20

### useDriveStore(): DriveState
**Purpose:** A Zustand store for managing drive-related state, including fetching and storing drive data.
**Location:** apps/web/src/hooks/useDrive.ts
**Dependencies:** [`create`](zustand:create()).
**Last Updated:** 2025-07-20

### fetchDrives(): Promise<void>
**Purpose:** Fetches all drives for the authenticated user.
**Location:** apps/web/src/hooks/useDrive.ts
**Dependencies:** None explicit.
**Last Updated:** 2025-07-20

### useFavoritesStore(): FavoritesState
**Purpose:** A Zustand store for managing user favorites.
**Location:** apps/web/src/hooks/useFavorites.ts
**Dependencies:** [`create`](zustand:create()), [`persist`](zustand/middleware:persist).
**Last Updated:** 2025-07-20

### addFavorite(id: string): void
**Purpose:** Adds a page to the user's favorites.
**Location:** apps/web/src/hooks/useFavorites.ts
**Dependencies:** None explicit.
**Last Updated:** 2025-07-20

### removeFavorite(id: string): void
**Purpose:** Removes a page from the user's favorites.
**Location:** apps/web/src/hooks/useFavorites.ts
**Dependencies:** None explicit.
**Last Updated:** 2025-07-20

### useKeyboardNavigation({ onArrowUp, onArrowDown, onEnter, onEscape }: UseKeyboardNavigationProps): void
**Purpose:** A hook for handling keyboard navigation events, particularly for lists or selectable items.
**Location:** apps/web/src/hooks/useKeyboardNavigation.ts
**Dependencies:** [`useEffect`](react:useEffect()), [`useCallback`](react:useCallback()).
**Last Updated:** 2025-07-20

### handleKeyDown(e: Event): void
**Purpose:** Callback function for keyboard keydown events to trigger navigation actions.
**Location:** apps/web/src/hooks/useKeyboardNavigation.ts
**Dependencies:** None explicit.
**Last Updated:** 2025-07-20

### usePageStore(): PageState
**Purpose:** A Zustand store for managing the currently active page's state.
**Location:** apps/web/src/hooks/usePage.ts
**Dependencies:** [`create`](zustand:create()).
**Last Updated:** 2025-07-20

### usePageTree(driveSlug?: string, trashView?: boolean): { tree: TreePage[]; isLoading: boolean; error: any; fetchAndMergeChildren: (pageId: string) => Promise<void>; invalidateTree: () => void; updateNode: (nodeId: string, updates: Partial<TreePage>) => void; }
**Purpose:** A hook to fetch and manage the hierarchical page tree structure for a given drive.
**Location:** apps/web/src/hooks/usePageTree.ts
**Dependencies:** [`useSWR`](swr:useSWR), [`useSWRConfig`](swr:useSWRConfig), [`fetcher`](apps/web/src/hooks/use-auth.ts:fetcher), [`useCallback`](react:useCallback()).
**Last Updated:** 2025-07-20

### fetchAndMergeChildren(pageId: string): Promise<void>
**Purpose:** Fetches children for a specific page and merges them into the existing tree.
**Location:** apps/web/src/hooks/usePageTree.ts
**Dependencies:** None explicit.
**Last Updated:** 2025-07-20

### invalidateTree(): void
**Purpose:** Invalidates the page tree cache, triggering a re-fetch.
**Location:** apps/web/src/hooks/usePageTree.ts
**Dependencies:** None explicit.
**Last Updated:** 2025-07-20

### updateNode(nodeId: string, updates: Partial<TreePage>): void
**Purpose:** Updates a specific node in the page tree with new data.
**Location:** apps/web/src/hooks/usePageTree.ts
**Dependencies:** None explicit.
**Last Updated:** 2025-07-20

### useSocket(): { socket: Socket | null; isConnected: boolean; }
**Purpose:** A hook to manage a Socket.IO client connection.
**Location:** apps/web/src/hooks/useSocket.ts
**Dependencies:** [`useState`](react:useState()), [`useEffect`](react:useEffect()), [`io`](socket.io-client).
**Last Updated:** 2025-07-20

### useSuggestion({ editorRef, textareaRef, onSelect, onQueryChange, onKeyDown, trigger, minQueryLength, allowedTypes, driveId, pageId }: UseSuggestionProps): UseSuggestionResult
**Purpose:** A comprehensive hook for integrating mention suggestions into text inputs (textarea or RichlineEditor).
**Location:** apps/web/src/hooks/useSuggestion.ts
**Dependencies:** [`useCallback`](react:useCallback()), [`useSuggestionCore`](@/hooks/useSuggestionCore).
**Last Updated:** 2025-07-20

### isTextarea(): boolean
**Purpose:** Checks if the current input is a textarea.
**Location:** apps/web/src/hooks/useSuggestion.ts
**Dependencies:** None explicit.
**Last Updated:** 2025-07-20

### isRichlineEditor(): boolean
**Purpose:** Checks if the current input is a RichlineEditor.
**Location:** apps/web/src/hooks/useSuggestion.ts
**Dependencies:** None explicit.
**Last Updated:** 2025-07-20

### getValue(): string
**Purpose:** Gets the current value of the input (textarea or RichlineEditor).
**Location:** apps/web/src/hooks/useSuggestion.ts
**Dependencies:** None explicit.
**Last Updated:** 2025-07-20

### getSelectionStart(): number
**Purpose:** Gets the current selection start position in the input.
**Location:** apps/web/src/hooks/useSuggestion.ts
**Dependencies:** None explicit.
**Last Updated:** 2025-07-20

### setSelectionStart(position: number): void
**Purpose:** Sets the selection start position in the input.
**Location:** apps/web/src/hooks/useSuggestion.ts
**Dependencies:** None explicit.
**Last Updated:** 2025-07-20

### handleValueChange(newValue: string): void
**Purpose:** Handles changes in the input value, triggering suggestion logic.
**Location:** apps/web/src/hooks/useSuggestion.ts
**Dependencies:** None explicit.
**Last Updated:** 2025-07-20

### handleKeyDown(e: React.KeyboardEvent): void
**Purpose:** Handles keydown events for suggestion navigation and selection.
**Location:** apps/web/src/hooks/useSuggestion.ts
**Dependencies:** None explicit.
**Last Updated:** 2025-07-20

### useSuggestionCore(config: SuggestionConfig, callbacks: SuggestionCallbacks): UseSuggestionResult
**Purpose:** The core logic for managing suggestion state, fetching, and debouncing.
**Location:** apps/web/src/hooks/useSuggestionCore.ts
**Dependencies:** [`useState`](react:useState()), [`useCallback`](react:useCallback()), [`useEffect`](react:useEffect()), [`useRef`](react:useRef()), [`debounce`](lodash:debounce).
**Last Updated:** 2025-07-20

### fetchSuggestions(query: string): Promise<void>
**Purpose:** Fetches suggestions from the API based on the current query.
**Location:** apps/web/src/hooks/useSuggestionCore.ts
**Dependencies:** [`suggestionService.fetchSuggestions`](@/services/suggestionService).
**Last Updated:** 2025-07-20

### debouncedFetchSuggestions(query: string): void
**Purpose:** A debounced version of `fetchSuggestions` to limit API calls.
**Location:** apps/web/src/hooks/useSuggestionCore.ts
**Dependencies:** [`debounce`](lodash:debounce).
**Last Updated:** 2025-07-20

### open(initialQuery?: string): void
**Purpose:** Opens the suggestion state with an optional initial query.
**Location:** apps/web/src/hooks/useSuggestionCore.ts
**Dependencies:** None explicit.
**Last Updated:** 2025-07-20

### close(): void
**Purpose:** Closes the suggestion state.
**Location:** apps/web/src/hooks/useSuggestionCore.ts
**Dependencies:** None explicit.
**Last Updated:** 2025-07-20

### setQuery(query: string): void
**Purpose:** Sets the current query for suggestions.
**Location:** apps/web/src/hooks/useSuggestionCore.ts
**Dependencies:** None explicit.
**Last Updated:** 2025-07-20

### selectItem(index: number): void
**Purpose:** Selects a suggestion item by its index.
**Location:** apps/web/src/hooks/useSuggestionCore.ts
**Dependencies:** None explicit.
**Last Updated:** 2025-07-20

### selectSuggestion(suggestion: MentionSuggestion): void
**Purpose:** Selects a specific suggestion object.
**Location:** apps/web/src/hooks/useSuggestionCore.ts
**Dependencies:** None explicit.
**Last Updated:** 2025-07-20

### Services
### calculateTextareaPosition(params: TextareaPositionParams): Position
**Purpose:** Calculates the absolute position for a suggestion popup relative to a textarea.
**Location:** apps/web/src/services/positioningService.ts
**Dependencies:** None explicit.
**Last Updated:** 2025-07-20

### calculateRichlinePosition(params: RichlinePositionParams): Position
**Purpose:** Calculates the absolute position for a suggestion popup relative to a Richline Editor.
**Location:** apps/web/src/services/positioningService.ts
**Dependencies:** None explicit.
**Last Updated:** 2025-07-20

### calculateInlinePosition(params: InlinePositionParams): Position
**Purpose:** Calculates the absolute position for a suggestion popup relative to an inline text element.
**Location:** apps/web/src/services/positioningService.ts
**Dependencies:** None explicit.
**Last Updated:** 2025-07-20

### fetchSuggestions(query: string, allowedTypes?: string[], driveId?: string, pageId?: string): Promise<SuggestionResult[]>
**Purpose:** Fetches mention suggestions from the backend API.
**Location:** apps/web/src/services/suggestionService.ts
**Dependencies:** None explicit.
**Last Updated:** 2025-07-20

### Stores
### useAssistantStore(): AssistantState
**Purpose:** A Zustand store for managing AI assistant conversations and messages.
**Location:** apps/web/src/stores/useAssistantStore.ts
**Dependencies:** [`create`](zustand:create()).
**Last Updated:** 2025-07-20